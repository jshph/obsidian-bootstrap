/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var rl=Object.create;var bn=Object.defineProperty;var nl=Object.getOwnPropertyDescriptor;var sl=Object.getOwnPropertyNames;var al=Object.getPrototypeOf,il=Object.prototype.hasOwnProperty;var Sa=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Na=(t,e)=>{for(var r in e)bn(t,r,{get:e[r],enumerable:!0})},ka=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of sl(e))!il.call(t,s)&&s!==r&&bn(t,s,{get:()=>e[s],enumerable:!(n=nl(e,s))||n.enumerable});return t};var Oa=(t,e,r)=>(r=t!=null?rl(al(t)):{},ka(e||!t||!t.__esModule?bn(r,"default",{value:t,enumerable:!0}):r,t)),ol=t=>ka(bn({},"__esModule",{value:!0}),t);var xi=Sa(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});var ne=require("obsidian"),bs="YYYY-MM-DD",xs="gggg-[W]ww",ci="YYYY-MM",di="YYYY-[Q]Q",fi="YYYY";function Wr(t){let e=window.app.plugins.getPlugin("periodic-notes");return e&&e.settings?.[t]?.enabled}function qr(){try{let{internalPlugins:t,plugins:e}=window.app;if(Wr("daily")){let{format:a,folder:i,template:o}=e.getPlugin("periodic-notes")?.settings?.daily||{};return{format:a||bs,folder:i?.trim()||"",template:o?.trim()||""}}let{folder:r,format:n,template:s}=t.getPluginById("daily-notes")?.instance?.options||{};return{format:n||bs,folder:r?.trim()||"",template:s?.trim()||""}}catch(t){console.info("No custom daily note settings found!",t)}}function Yr(){try{let t=window.app.plugins,e=t.getPlugin("calendar")?.options,r=t.getPlugin("periodic-notes")?.settings?.weekly;if(Wr("weekly"))return{format:r.format||xs,folder:r.folder?.trim()||"",template:r.template?.trim()||""};let n=e||{};return{format:n.weeklyNoteFormat||xs,folder:n.weeklyNoteFolder?.trim()||"",template:n.weeklyNoteTemplate?.trim()||""}}catch(t){console.info("No custom weekly note settings found!",t)}}function Gr(){let t=window.app.plugins;try{let e=Wr("monthly")&&t.getPlugin("periodic-notes")?.settings?.monthly||{};return{format:e.format||ci,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom monthly note settings found!",e)}}function Jr(){let t=window.app.plugins;try{let e=Wr("quarterly")&&t.getPlugin("periodic-notes")?.settings?.quarterly||{};return{format:e.format||di,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom quarterly note settings found!",e)}}function Qr(){let t=window.app.plugins;try{let e=Wr("yearly")&&t.getPlugin("periodic-notes")?.settings?.yearly||{};return{format:e.format||fi,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom yearly note settings found!",e)}}function mi(...t){let e=[];for(let n=0,s=t.length;n<s;n++)e=e.concat(t[n].split("/"));let r=[];for(let n=0,s=e.length;n<s;n++){let a=e[n];!a||a==="."||r.push(a)}return e[0]===""&&r.unshift(""),r.join("/")}function Ec(t){let e=t.substring(t.lastIndexOf("/")+1);return e.lastIndexOf(".")!=-1&&(e=e.substring(0,e.lastIndexOf("."))),e}async function Cc(t){let e=t.replace(/\\/g,"/").split("/");if(e.pop(),e.length){let r=mi(...e);window.app.vault.getAbstractFileByPath(r)||await window.app.vault.createFolder(r)}}async function Kr(t,e){e.endsWith(".md")||(e+=".md");let r=ne.normalizePath(mi(t,e));return await Cc(r),r}async function wr(t){let{metadataCache:e,vault:r}=window.app,n=ne.normalizePath(t);if(n==="/")return Promise.resolve(["",null]);try{let s=e.getFirstLinkpathDest(n,""),a=await r.cachedRead(s),i=window.app.foldManager.load(s);return[a,i]}catch(s){return console.error(`Failed to read the daily note template '${n}'`,s),new ne.Notice("Failed to read the daily note template"),["",null]}}function Ve(t,e="day"){let r=t.clone().startOf(e).format();return`${e}-${r}`}function pi(t){return t.replace(/\[[^\]]*\]/g,"")}function Pc(t,e){if(e==="week"){let r=pi(t);return/w{1,2}/i.test(r)&&(/M{1,4}/.test(r)||/D{1,4}/.test(r))}return!1}function vr(t,e){return hi(t.basename,e)}function Tc(t,e){return hi(Ec(t),e)}function hi(t,e){let n={day:qr,week:Yr,month:Gr,quarter:Jr,year:Qr}[e]().format.split("/").pop(),s=window.moment(t,n,!0);if(!s.isValid())return null;if(Pc(n,e)&&e==="week"){let a=pi(n);if(/w{1,2}/i.test(a))return window.moment(t,n.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return s}var _s=class extends Error{};async function Di(t){let e=window.app,{vault:r}=e,n=window.moment,{template:s,format:a,folder:i}=qr(),[o,l]=await wr(s),c=t.format(a),p=await Kr(i,c);try{let x=await r.create(p,o.replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,n().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(v,b,A,j,L,Q)=>{let ye=n(),ge=t.clone().set({hour:ye.get("hour"),minute:ye.get("minute"),second:ye.get("second")});return A&&ge.add(parseInt(j,10),L),Q?ge.format(Q.substring(1).trim()):ge.format(a)}).replace(/{{\s*yesterday\s*}}/gi,t.clone().subtract(1,"day").format(a)).replace(/{{\s*tomorrow\s*}}/gi,t.clone().add(1,"d").format(a)));return e.foldManager.save(x,l),x}catch(x){console.error(`Failed to create file: '${p}'`,x),new ne.Notice("Unable to create new file.")}}function Sc(t,e){return e[Ve(t,"day")]??null}function Nc(){let{vault:t}=window.app,{folder:e}=qr(),r=t.getAbstractFileByPath(ne.normalizePath(e));if(!r)throw new _s("Failed to find daily notes folder");let n={};return ne.Vault.recurseChildren(r,s=>{if(s instanceof ne.TFile){let a=vr(s,"day");if(a){let i=Ve(a,"day");n[i]=s}}}),n}var Es=class extends Error{};function kc(){let{moment:t}=window,e=t.localeData()._week.dow,r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;e;)r.push(r.shift()),e--;return r}function Oc(t){return kc().indexOf(t.toLowerCase())}async function yi(t){let{vault:e}=window.app,{template:r,format:n,folder:s}=Yr(),[a,i]=await wr(r),o=t.format(n),l=await Kr(s,o);try{let c=await e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,x,v,b,A,j)=>{let L=window.moment(),Q=t.clone().set({hour:L.get("hour"),minute:L.get("minute"),second:L.get("second")});return v&&Q.add(parseInt(b,10),A),j?Q.format(j.substring(1).trim()):Q.format(n)}).replace(/{{\s*title\s*}}/gi,o).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(p,x,v)=>{let b=Oc(x);return t.weekday(b).format(v.trim())}));return window.app.foldManager.save(c,i),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new ne.Notice("Unable to create new file.")}}function Ac(t,e){return e[Ve(t,"week")]??null}function Rc(){let t={};if(!Fi())return t;let{vault:e}=window.app,{folder:r}=Yr(),n=e.getAbstractFileByPath(ne.normalizePath(r));if(!n)throw new Es("Failed to find weekly notes folder");return ne.Vault.recurseChildren(n,s=>{if(s instanceof ne.TFile){let a=vr(s,"week");if(a){let i=Ve(a,"week");t[i]=s}}}),t}var Cs=class extends Error{};async function gi(t){let{vault:e}=window.app,{template:r,format:n,folder:s}=Gr(),[a,i]=await wr(r),o=t.format(n),l=await Kr(s,o);try{let c=await e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,x,v,b,A,j)=>{let L=window.moment(),Q=t.clone().set({hour:L.get("hour"),minute:L.get("minute"),second:L.get("second")});return v&&Q.add(parseInt(b,10),A),j?Q.format(j.substring(1).trim()):Q.format(n)}).replace(/{{\s*date\s*}}/gi,o).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,o));return window.app.foldManager.save(c,i),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new ne.Notice("Unable to create new file.")}}function Ic(t,e){return e[Ve(t,"month")]??null}function Mc(){let t={};if(!wi())return t;let{vault:e}=window.app,{folder:r}=Gr(),n=e.getAbstractFileByPath(ne.normalizePath(r));if(!n)throw new Cs("Failed to find monthly notes folder");return ne.Vault.recurseChildren(n,s=>{if(s instanceof ne.TFile){let a=vr(s,"month");if(a){let i=Ve(a,"month");t[i]=s}}}),t}var Ps=class extends Error{};async function Bc(t){let{vault:e}=window.app,{template:r,format:n,folder:s}=Jr(),[a,i]=await wr(r),o=t.format(n),l=await Kr(s,o);try{let c=await e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,x,v,b,A,j)=>{let L=window.moment(),Q=t.clone().set({hour:L.get("hour"),minute:L.get("minute"),second:L.get("second")});return v&&Q.add(parseInt(b,10),A),j?Q.format(j.substring(1).trim()):Q.format(n)}).replace(/{{\s*date\s*}}/gi,o).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,o));return window.app.foldManager.save(c,i),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new ne.Notice("Unable to create new file.")}}function Lc(t,e){return e[Ve(t,"quarter")]??null}function jc(){let t={};if(!vi())return t;let{vault:e}=window.app,{folder:r}=Jr(),n=e.getAbstractFileByPath(ne.normalizePath(r));if(!n)throw new Ps("Failed to find quarterly notes folder");return ne.Vault.recurseChildren(n,s=>{if(s instanceof ne.TFile){let a=vr(s,"quarter");if(a){let i=Ve(a,"quarter");t[i]=s}}}),t}var Ts=class extends Error{};async function Hc(t){let{vault:e}=window.app,{template:r,format:n,folder:s}=Qr(),[a,i]=await wr(r),o=t.format(n),l=await Kr(s,o);try{let c=await e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,x,v,b,A,j)=>{let L=window.moment(),Q=t.clone().set({hour:L.get("hour"),minute:L.get("minute"),second:L.get("second")});return v&&Q.add(parseInt(b,10),A),j?Q.format(j.substring(1).trim()):Q.format(n)}).replace(/{{\s*date\s*}}/gi,o).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,o));return window.app.foldManager.save(c,i),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new ne.Notice("Unable to create new file.")}}function zc(t,e){return e[Ve(t,"year")]??null}function Vc(){let t={};if(!bi())return t;let{vault:e}=window.app,{folder:r}=Qr(),n=e.getAbstractFileByPath(ne.normalizePath(r));if(!n)throw new Ts("Failed to find yearly notes folder");return ne.Vault.recurseChildren(n,s=>{if(s instanceof ne.TFile){let a=vr(s,"year");if(a){let i=Ve(a,"year");t[i]=s}}}),t}function $c(){let{app:t}=window,e=t.internalPlugins.plugins["daily-notes"];if(e&&e.enabled)return!0;let r=t.plugins.getPlugin("periodic-notes");return r&&r.settings?.daily?.enabled}function Fi(){let{app:t}=window;if(t.plugins.getPlugin("calendar"))return!0;let e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.weekly?.enabled}function wi(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.monthly?.enabled}function vi(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.quarterly?.enabled}function bi(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.yearly?.enabled}function Uc(t){let e={day:qr,week:Yr,month:Gr,quarter:Jr,year:Qr}[t];return e()}function Zc(t,e){return{day:Di,month:gi,week:yi}[t](e)}Y.DEFAULT_DAILY_NOTE_FORMAT=bs;Y.DEFAULT_MONTHLY_NOTE_FORMAT=ci;Y.DEFAULT_QUARTERLY_NOTE_FORMAT=di;Y.DEFAULT_WEEKLY_NOTE_FORMAT=xs;Y.DEFAULT_YEARLY_NOTE_FORMAT=fi;Y.appHasDailyNotesPluginLoaded=$c;Y.appHasMonthlyNotesPluginLoaded=wi;Y.appHasQuarterlyNotesPluginLoaded=vi;Y.appHasWeeklyNotesPluginLoaded=Fi;Y.appHasYearlyNotesPluginLoaded=bi;Y.createDailyNote=Di;Y.createMonthlyNote=gi;Y.createPeriodicNote=Zc;Y.createQuarterlyNote=Bc;Y.createWeeklyNote=yi;Y.createYearlyNote=Hc;Y.getAllDailyNotes=Nc;Y.getAllMonthlyNotes=Mc;Y.getAllQuarterlyNotes=jc;Y.getAllWeeklyNotes=Rc;Y.getAllYearlyNotes=Vc;Y.getDailyNote=Sc;Y.getDailyNoteSettings=qr;Y.getDateFromFile=vr;Y.getDateFromPath=Tc;Y.getDateUID=Ve;Y.getMonthlyNote=Ic;Y.getMonthlyNoteSettings=Gr;Y.getPeriodicNoteSettings=Uc;Y.getQuarterlyNote=Lc;Y.getQuarterlyNoteSettings=Jr;Y.getTemplateInfo=wr;Y.getWeeklyNote=Ac;Y.getWeeklyNoteSettings=Yr;Y.getYearlyNote=zc;Y.getYearlyNoteSettings=Qr});var au=Sa(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});require("obsidian");var mt=class extends Error{},zs=class extends mt{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},Vs=class extends mt{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},$s=class extends mt{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},Qt=class extends mt{},Vn=class extends mt{constructor(e){super(`Invalid unit ${e}`)}},_e=class extends mt{},et=class extends mt{constructor(){super("Zone is an abstract class")}},P="numeric",qe="short",Te="long",$n={year:P,month:P,day:P},so={year:P,month:qe,day:P},Qc={year:P,month:qe,day:P,weekday:qe},ao={year:P,month:Te,day:P},io={year:P,month:Te,day:P,weekday:Te},oo={hour:P,minute:P},uo={hour:P,minute:P,second:P},lo={hour:P,minute:P,second:P,timeZoneName:qe},co={hour:P,minute:P,second:P,timeZoneName:Te},fo={hour:P,minute:P,hourCycle:"h23"},mo={hour:P,minute:P,second:P,hourCycle:"h23"},po={hour:P,minute:P,second:P,hourCycle:"h23",timeZoneName:qe},ho={hour:P,minute:P,second:P,hourCycle:"h23",timeZoneName:Te},Do={year:P,month:P,day:P,hour:P,minute:P},yo={year:P,month:P,day:P,hour:P,minute:P,second:P},go={year:P,month:qe,day:P,hour:P,minute:P},Fo={year:P,month:qe,day:P,hour:P,minute:P,second:P},Kc={year:P,month:qe,day:P,weekday:qe,hour:P,minute:P},wo={year:P,month:Te,day:P,hour:P,minute:P,timeZoneName:qe},vo={year:P,month:Te,day:P,hour:P,minute:P,second:P,timeZoneName:qe},bo={year:P,month:Te,day:P,weekday:Te,hour:P,minute:P,timeZoneName:Te},xo={year:P,month:Te,day:P,weekday:Te,hour:P,minute:P,second:P,timeZoneName:Te},er=class{get type(){throw new et}get name(){throw new et}get ianaName(){return this.name}get isUniversal(){throw new et}offsetName(e,r){throw new et}formatOffset(e,r){throw new et}offset(e){throw new et}equals(e){throw new et}get isValid(){throw new et}},As=null,Un=class t extends er{static get instance(){return As===null&&(As=new t),As}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Eo(e,r,n)}formatOffset(e,r){return an(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},Hn={};function Xc(t){return Hn[t]||(Hn[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Hn[t]}var ed={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function td(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,a,i,o,l,c,p]=n;return[i,s,a,o,l,c,p]}function rd(t,e){let r=t.formatToParts(e),n=[];for(let s=0;s<r.length;s++){let{type:a,value:i}=r[s],o=ed[a];a==="era"?n[o]=i:J(o)||(n[o]=parseInt(i,10))}return n}var Rn={},Et=class t extends er{static create(e){return Rn[e]||(Rn[e]=new t(e)),Rn[e]}static resetCache(){Rn={},Hn={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=t.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Eo(e,r,n,this.name)}formatOffset(e,r){return an(this.offset(e),r)}offset(e){let r=new Date(e);if(isNaN(r))return NaN;let n=Xc(this.name),[s,a,i,o,l,c,p]=n.formatToParts?rd(n,r):td(n,r);o==="BC"&&(s=-Math.abs(s)+1);let v=Xn({year:s,month:a,day:i,hour:l===24?0:l,minute:c,second:p,millisecond:0}),b=+r,A=b%1e3;return b-=A>=0?A:1e3+A,(v-b)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},Pi={};function nd(t,e={}){let r=JSON.stringify([t,e]),n=Pi[r];return n||(n=new Intl.ListFormat(t,e),Pi[r]=n),n}var Us={};function Zs(t,e={}){let r=JSON.stringify([t,e]),n=Us[r];return n||(n=new Intl.DateTimeFormat(t,e),Us[r]=n),n}var Ws={};function sd(t,e={}){let r=JSON.stringify([t,e]),n=Ws[r];return n||(n=new Intl.NumberFormat(t,e),Ws[r]=n),n}var qs={};function ad(t,e={}){let{base:r,...n}=e,s=JSON.stringify([t,n]),a=qs[s];return a||(a=new Intl.RelativeTimeFormat(t,e),qs[s]=a),a}var nn=null;function id(){return nn||(nn=new Intl.DateTimeFormat().resolvedOptions().locale,nn)}function od(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(r===-1)return[t];{let n,s;try{n=Zs(t).resolvedOptions(),s=t}catch{let l=t.substring(0,r);n=Zs(l).resolvedOptions(),s=l}let{numberingSystem:a,calendar:i}=n;return[s,a,i]}}function ud(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function ld(t){let e=[];for(let r=1;r<=12;r++){let n=q.utc(2009,r,1);e.push(t(n))}return e}function cd(t){let e=[];for(let r=1;r<=7;r++){let n=q.utc(2016,11,13+r);e.push(t(n))}return e}function In(t,e,r,n){let s=t.listingMode();return s==="error"?null:s==="en"?r(e):n(e)}function dd(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var Ys=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:s,floor:a,...i}=n;if(!r||Object.keys(i).length>0){let o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=sd(e,o)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):ua(e,3);return ue(r,this.padTo)}}},Gs=class{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let i=-1*(e.offset/60),o=i>=0?`Etc/GMT+${i}`:`Etc/GMT${i}`;e.offset!==0&&Et.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let a={...this.opts};a.timeZone=a.timeZone||s,this.dtf=Zs(r,a)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){let n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},Js=class{constructor(e,r,n){this.opts={style:"long",...n},!r&&_o()&&(this.rtf=ad(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):Pd(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},ie=class t{static fromOpts(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,s=!1){let a=e||ae.defaultLocale,i=a||(s?"en-US":id()),o=r||ae.defaultNumberingSystem,l=n||ae.defaultOutputCalendar;return new t(i,o,l,a)}static resetCache(){nn=null,Us={},Ws={},qs={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return t.create(e,r,n)}constructor(e,r,n,s){let[a,i,o]=od(e);this.locale=a,this.numberingSystem=r||i||null,this.outputCalendar=n||o||null,this.intl=ud(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=dd(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return In(this,e,To,()=>{let n=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=ld(a=>this.extract(a,n,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1){return In(this,e,ko,()=>{let n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=cd(a=>this.extract(a,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return In(this,void 0,()=>Oo,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[q.utc(2016,11,13,9),q.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return In(this,e,Ao,()=>{let r={era:e};return this.eraCache[e]||(this.eraCache[e]=[q.utc(-40,1,1),q.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){let s=this.dtFormatter(e,r),a=s.formatToParts(),i=a.find(o=>o.type.toLowerCase()===n);return i?i.value:null}numberFormatter(e={}){return new Ys(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new Gs(e,this.intl,r)}relFormatter(e={}){return new Js(this.intl,this.isEnglish(),e)}listFormatter(e={}){return nd(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},Rs=null,Re=class t extends er{static get utcInstance(){return Rs===null&&(Rs=new t(0)),Rs}static instance(e){return e===0?t.utcInstance:new t(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new t(es(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${an(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${an(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return an(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},Qs=class extends er{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function _t(t,e){if(J(t)||t===null)return e;if(t instanceof er)return t;if(fd(t)){let r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?Un.instance:r==="utc"||r==="gmt"?Re.utcInstance:Re.parseSpecifier(r)||Et.create(t)}else return Xt(t)?Re.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Qs(t)}var Ti=()=>Date.now(),Si="system",Ni=null,ki=null,Oi=null,Ai=60,Ri,ae=class{static get now(){return Ti}static set now(e){Ti=e}static set defaultZone(e){Si=e}static get defaultZone(){return _t(Si,Un.instance)}static get defaultLocale(){return Ni}static set defaultLocale(e){Ni=e}static get defaultNumberingSystem(){return ki}static set defaultNumberingSystem(e){ki=e}static get defaultOutputCalendar(){return Oi}static set defaultOutputCalendar(e){Oi=e}static get twoDigitCutoffYear(){return Ai}static set twoDigitCutoffYear(e){Ai=e%100}static get throwOnInvalid(){return Ri}static set throwOnInvalid(e){Ri=e}static resetCaches(){ie.resetCache(),Et.resetCache()}};function J(t){return typeof t>"u"}function Xt(t){return typeof t=="number"}function Kn(t){return typeof t=="number"&&t%1===0}function fd(t){return typeof t=="string"}function md(t){return Object.prototype.toString.call(t)==="[object Date]"}function _o(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function pd(t){return Array.isArray(t)?t:[t]}function Ii(t,e,r){if(t.length!==0)return t.reduce((n,s)=>{let a=[e(s),s];return n&&r(n[0],a[0])===n[0]?n:a},null)[1]}function hd(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Pr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ft(t,e,r){return Kn(t)&&t>=e&&t<=r}function Dd(t,e){return t-e*Math.floor(t/e)}function ue(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function xt(t){if(!(J(t)||t===null||t===""))return parseInt(t,10)}function Gt(t){if(!(J(t)||t===null||t===""))return parseFloat(t)}function oa(t){if(!(J(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function ua(t,e,r=!1){let n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function ln(t){return t%4===0&&(t%100!==0||t%400===0)}function sn(t){return ln(t)?366:365}function Zn(t,e){let r=Dd(e-1,12)+1,n=t+(e-r)/12;return r===2?ln(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Xn(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Wn(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function Ks(t){return t>99?t:t>ae.twoDigitCutoffYear?1900+t:2e3+t}function Eo(t,e,r,n=null){let s=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);let i={timeZoneName:e,...a},o=new Intl.DateTimeFormat(r,i).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function es(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,s=r<0||Object.is(r,-0)?-n:n;return r*60+s}function Co(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new _e(`Invalid unit value ${t}`);return e}function qn(t,e){let r={};for(let n in t)if(Pr(t,n)){let s=t[n];if(s==null)continue;r[e(n)]=Co(s)}return r}function an(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${ue(r,2)}:${ue(n,2)}`;case"narrow":return`${s}${r}${n>0?`:${n}`:""}`;case"techie":return`${s}${ue(r,2)}${ue(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function ts(t){return hd(t,["hour","minute","second","millisecond"])}var yd=["January","February","March","April","May","June","July","August","September","October","November","December"],Po=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],gd=["J","F","M","A","M","J","J","A","S","O","N","D"];function To(t){switch(t){case"narrow":return[...gd];case"short":return[...Po];case"long":return[...yd];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var So=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],No=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Fd=["M","T","W","T","F","S","S"];function ko(t){switch(t){case"narrow":return[...Fd];case"short":return[...No];case"long":return[...So];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Oo=["AM","PM"],wd=["Before Christ","Anno Domini"],vd=["BC","AD"],bd=["B","A"];function Ao(t){switch(t){case"narrow":return[...bd];case"short":return[...vd];case"long":return[...wd];default:return null}}function xd(t){return Oo[t.hour<12?0:1]}function _d(t,e){return ko(e)[t.weekday-1]}function Ed(t,e){return To(e)[t.month-1]}function Cd(t,e){return Ao(e)[t.year<0?0:1]}function Pd(t,e,r="always",n=!1){let s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&a){let x=t==="days";switch(e){case 1:return x?"tomorrow":`next ${s[t][0]}`;case-1:return x?"yesterday":`last ${s[t][0]}`;case 0:return x?"today":`this ${s[t][0]}`}}let i=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,c=s[t],p=n?l?c[1]:c[2]||c[1]:l?s[t][0]:t;return i?`${o} ${p} ago`:`in ${o} ${p}`}function Mi(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var Td={D:$n,DD:so,DDD:ao,DDDD:io,t:oo,tt:uo,ttt:lo,tttt:co,T:fo,TT:mo,TTT:po,TTTT:ho,f:Do,ff:go,fff:wo,ffff:bo,F:yo,FF:Fo,FFF:vo,FFFF:xo},Ce=class t{static create(e,r={}){return new t(e,r)}static parseFormat(e){let r=null,n="",s=!1,a=[];for(let i=0;i<e.length;i++){let o=e.charAt(i);o==="'"?(n.length>0&&a.push({literal:s||/^\s+$/.test(n),val:n}),r=null,n="",s=!s):s||o===r?n+=o:(n.length>0&&a.push({literal:/^\s+$/.test(n),val:n}),n=o,r=o)}return n.length>0&&a.push({literal:s||/^\s+$/.test(n),val:n}),a}static macroTokenToFormatOpts(e){return Td[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return ue(e,r);let n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(b,A)=>this.loc.extract(e,b,A),i=b=>e.isOffsetFixed&&e.offset===0&&b.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,b.format):"",o=()=>n?xd(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(b,A)=>n?Ed(e,b):a(A?{month:b}:{month:b,day:"numeric"},"month"),c=(b,A)=>n?_d(e,b):a(A?{weekday:b}:{weekday:b,month:"long",day:"numeric"},"weekday"),p=b=>{let A=t.macroTokenToFormatOpts(b);return A?this.formatWithSystemDefault(e,A):b},x=b=>n?Cd(e,b):a({era:b},"era"),v=b=>{switch(b){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?a({day:"numeric"},"day"):this.num(e.day);case"dd":return s?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?a({month:"numeric"},"month"):this.num(e.month);case"MM":return s?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?a({year:"numeric"},"year"):this.num(e.year);case"yy":return s?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return x("short");case"GG":return x("long");case"GGGGG":return x("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(b)}};return Mi(t.parseFormat(r),v)}formatDurationFromString(e,r){let n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>c=>{let p=n(c);return p?this.num(l.get(p),c.length):c},a=t.parseFormat(r),i=a.reduce((l,{literal:c,val:p})=>c?l:l.concat(p),[]),o=e.shiftTo(...i.map(n).filter(l=>l));return Mi(a,s(o))}},Pe=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},Ro=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Tr(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Sr(...t){return e=>t.reduce(([r,n,s],a)=>{let[i,o,l]=a(e,s);return[{...r,...i},o||n,l]},[{},null,1]).slice(0,2)}function Nr(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let s=r.exec(t);if(s)return n(s)}return[null,null]}function Io(...t){return(e,r)=>{let n={},s;for(s=0;s<t.length;s++)n[t[s]]=xt(e[r+s]);return[n,null,r+s]}}var Mo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Sd=`(?:${Mo.source}?(?:\\[(${Ro.source})\\])?)?`,la=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Bo=RegExp(`${la.source}${Sd}`),ca=RegExp(`(?:T${Bo.source})?`),Nd=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,kd=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Od=/(\d{4})-?(\d{3})/,Ad=Io("weekYear","weekNumber","weekDay"),Rd=Io("year","ordinal"),Id=/(\d{4})-(\d\d)-(\d\d)/,Lo=RegExp(`${la.source} ?(?:${Mo.source}|(${Ro.source}))?`),Md=RegExp(`(?: ${Lo.source})?`);function Er(t,e,r){let n=t[e];return J(n)?r:xt(n)}function Bd(t,e){return[{year:Er(t,e),month:Er(t,e+1,1),day:Er(t,e+2,1)},null,e+3]}function kr(t,e){return[{hours:Er(t,e,0),minutes:Er(t,e+1,0),seconds:Er(t,e+2,0),milliseconds:oa(t[e+3])},null,e+4]}function cn(t,e){let r=!t[e]&&!t[e+1],n=es(t[e+1],t[e+2]),s=r?null:Re.instance(n);return[{},s,e+3]}function dn(t,e){let r=t[e]?Et.create(t[e]):null;return[{},r,e+1]}var Ld=RegExp(`^T?${la.source}$`),jd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Hd(t){let[e,r,n,s,a,i,o,l,c]=t,p=e[0]==="-",x=l&&l[0]==="-",v=(b,A=!1)=>b!==void 0&&(A||b&&p)?-b:b;return[{years:v(Gt(r)),months:v(Gt(n)),weeks:v(Gt(s)),days:v(Gt(a)),hours:v(Gt(i)),minutes:v(Gt(o)),seconds:v(Gt(l),l==="-0"),milliseconds:v(oa(c),x)}]}var zd={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function da(t,e,r,n,s,a,i){let o={year:e.length===2?Ks(xt(e)):xt(e),month:Po.indexOf(r)+1,day:xt(n),hour:xt(s),minute:xt(a)};return i&&(o.second=xt(i)),t&&(o.weekday=t.length>3?So.indexOf(t)+1:No.indexOf(t)+1),o}var Vd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function $d(t){let[,e,r,n,s,a,i,o,l,c,p,x]=t,v=da(e,s,n,r,a,i,o),b;return l?b=zd[l]:c?b=0:b=es(p,x),[v,new Re(b)]}function Ud(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Zd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Wd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,qd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Bi(t){let[,e,r,n,s,a,i,o]=t;return[da(e,s,n,r,a,i,o),Re.utcInstance]}function Yd(t){let[,e,r,n,s,a,i,o]=t;return[da(e,o,r,n,s,a,i),Re.utcInstance]}var Gd=Tr(Nd,ca),Jd=Tr(kd,ca),Qd=Tr(Od,ca),Kd=Tr(Bo),jo=Sr(Bd,kr,cn,dn),Xd=Sr(Ad,kr,cn,dn),ef=Sr(Rd,kr,cn,dn),tf=Sr(kr,cn,dn);function rf(t){return Nr(t,[Gd,jo],[Jd,Xd],[Qd,ef],[Kd,tf])}function nf(t){return Nr(Ud(t),[Vd,$d])}function sf(t){return Nr(t,[Zd,Bi],[Wd,Bi],[qd,Yd])}function af(t){return Nr(t,[jd,Hd])}var of=Sr(kr);function uf(t){return Nr(t,[Ld,of])}var lf=Tr(Id,Md),cf=Tr(Lo),df=Sr(kr,cn,dn);function ff(t){return Nr(t,[lf,jo],[cf,df])}var Li="Invalid Duration",Ho={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},mf={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...Ho},Oe=146097/400,br=146097/4800,pf={years:{quarters:4,months:12,weeks:Oe/7,days:Oe,hours:Oe*24,minutes:Oe*24*60,seconds:Oe*24*60*60,milliseconds:Oe*24*60*60*1e3},quarters:{months:3,weeks:Oe/28,days:Oe/4,hours:Oe*24/4,minutes:Oe*24*60/4,seconds:Oe*24*60*60/4,milliseconds:Oe*24*60*60*1e3/4},months:{weeks:br/7,days:br,hours:br*24,minutes:br*24*60,seconds:br*24*60*60,milliseconds:br*24*60*60*1e3},...Ho},Kt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],hf=Kt.slice(0).reverse();function bt(t,e,r=!1){let n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new I(n)}function zo(t,e){let r=e.milliseconds??0;for(let n of hf.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function ji(t,e){let r=zo(t,e)<0?-1:1;Kt.reduceRight((n,s)=>{if(J(e[s]))return n;if(n){let a=e[n]*r,i=t[s][n],o=Math.floor(a/i);e[s]+=o*r,e[n]-=o*i*r}return s},null),Kt.reduce((n,s)=>{if(J(e[s]))return n;if(n){let a=e[n]%1;e[n]-=a,e[s]+=a*t[n][s]}return s},null)}function Df(t){let e={};for(let[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}var I=class t{constructor(e){let r=e.conversionAccuracy==="longterm"||!1,n=r?pf:mf;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||ie.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return t.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new _e(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new t({values:qn(e,t.normalizeUnit),loc:ie.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(Xt(e))return t.fromMillis(e);if(t.isDuration(e))return e;if(typeof e=="object")return t.fromObject(e);throw new _e(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=af(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=uf(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new _e("need to specify a reason the Duration is invalid");let n=e instanceof Pe?e:new Pe(e,r);if(ae.throwOnInvalid)throw new $s(n);return new t({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new Vn(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Ce.create(this.loc,n).formatDurationFromString(this,e):Li}toHuman(e={}){if(!this.isValid)return Li;let r=Kt.map(n=>{let s=this.values[n];return J(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ua(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},q.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?zo(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e),n={};for(let s of Kt)(Pr(r.values,s)||Pr(this.values,s))&&(n[s]=r.get(s)+this.get(s));return bt(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=Co(e(this.values[n],n));return bt(this,{values:r},!0)}get(e){return this[t.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r={...this.values,...qn(e,t.normalizeUnit)};return bt(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:s}={}){let i={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:s,conversionAccuracy:n};return bt(this,i)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return ji(this.matrix,e),bt(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=Df(this.normalize().shiftToAll().toObject());return bt(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(i=>t.normalizeUnit(i));let r={},n={},s=this.toObject(),a;for(let i of Kt)if(e.indexOf(i)>=0){a=i;let o=0;for(let c in n)o+=this.matrix[c][i]*n[c],n[c]=0;Xt(s[i])&&(o+=s[i]);let l=Math.trunc(o);r[i]=l,n[i]=(o*1e3-l*1e3)/1e3}else Xt(s[i])&&(n[i]=s[i]);for(let i in n)n[i]!==0&&(r[a]+=i===a?n[i]:n[i]/this.matrix[a][i]);return ji(this.matrix,r),bt(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return bt(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(let n of Kt)if(!r(this.values[n],e.values[n]))return!1;return!0}},xr="Invalid Interval";function yf(t,e){return!t||!t.isValid?Cr.invalid("missing or invalid start"):!e||!e.isValid?Cr.invalid("missing or invalid end"):e<t?Cr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var Cr=class t{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new _e("need to specify a reason the Interval is invalid");let n=e instanceof Pe?e:new Pe(e,r);if(ae.throwOnInvalid)throw new Vs(n);return new t({invalid:n})}static fromDateTimes(e,r){let n=tn(e),s=tn(r),a=yf(n,s);return a??new t({start:n,end:s})}static after(e,r){let n=I.fromDurationLike(r),s=tn(e);return t.fromDateTimes(s,s.plus(n))}static before(e,r){let n=I.fromDurationLike(r),s=tn(e);return t.fromDateTimes(s.minus(n),s)}static fromISO(e,r){let[n,s]=(e||"").split("/",2);if(n&&s){let a,i;try{a=q.fromISO(n,r),i=a.isValid}catch{i=!1}let o,l;try{o=q.fromISO(s,r),l=o.isValid}catch{l=!1}if(i&&l)return t.fromDateTimes(a,o);if(i){let c=I.fromISO(s,r);if(c.isValid)return t.after(a,c)}else if(l){let c=I.fromISO(n,r);if(c.isValid)return t.before(o,c)}}return t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?t.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(tn).filter(i=>this.contains(i)).sort(),n=[],{s}=this,a=0;for(;s<this.e;){let i=r[a]||this.e,o=+i>+this.e?this.e:i;n.push(t.fromDateTimes(s,o)),s=o,a+=1}return n}splitBy(e){let r=I.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,s=1,a,i=[];for(;n<this.e;){let o=this.start.plus(r.mapUnits(l=>l*s));a=+o>+this.e?this.e:o,i.push(t.fromDateTimes(n,a)),n=a,s+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:t.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return t.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((s,a)=>s.s-a.s).reduce(([s,a],i)=>a?a.overlaps(i)||a.abutsStart(i)?[s,a.union(i)]:[s.concat([a]),i]:[s,i],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,s=[],a=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),i=Array.prototype.concat(...a),o=i.sort((l,c)=>l.time-c.time);for(let l of o)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&s.push(t.fromDateTimes(r,l.time)),r=null);return t.merge(s)}difference(...e){return t.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:xr}toLocaleString(e=$n,r={}){return this.isValid?Ce.create(this.s.loc.clone(r),e).formatInterval(this):xr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:xr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:xr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:xr}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:xr}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):I.invalid(this.invalidReason)}mapEndpoints(e){return t.fromDateTimes(e(this.s),e(this.e))}},_r=class{static hasDST(e=ae.defaultZone){let r=q.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Et.isValidZone(e)}static normalizeZone(e){return _t(e,ae.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:a="gregory"}={}){return(s||ie.create(r,n,a)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:a="gregory"}={}){return(s||ie.create(r,n,a)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||ie.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||ie.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ie.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return ie.create(r,null,"gregory").eras(e)}static features(){return{relative:_o()}}};function Hi(t,e){let r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(I.fromMillis(n).as("days"))}function gf(t,e,r){let n=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{let p=Hi(l,c);return(p-p%7)/7}],["days",Hi]],s={},a=t,i,o;for(let[l,c]of n)r.indexOf(l)>=0&&(i=l,s[l]=c(t,e),o=a.plus(s),o>e?(s[l]--,t=a.plus(s),t>e&&(o=t,s[l]--,t=a.plus(s))):t=o);return[t,s,o,i]}function Ff(t,e,r,n){let[s,a,i,o]=gf(t,e,r),l=e-s,c=r.filter(x=>["hours","minutes","seconds","milliseconds"].indexOf(x)>=0);c.length===0&&(i<e&&(i=s.plus({[o]:1})),i!==s&&(a[o]=(a[o]||0)+l/(i-s)));let p=I.fromObject(a,n);return c.length>0?I.fromMillis(l,n).shiftTo(...c).plus(p):p}var fa={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},zi={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},wf=fa.hanidec.replace(/[\[|\]]/g,"").split("");function vf(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(fa.hanidec)!==-1)e+=wf.indexOf(t[r]);else for(let s in zi){let[a,i]=zi[s];n>=a&&n<=i&&(e+=n-a)}}return parseInt(e,10)}else return e}function Ue({numberingSystem:t},e=""){return new RegExp(`${fa[t||"latn"]}${e}`)}var bf="missing Intl.DateTimeFormat.formatToParts support";function K(t,e=r=>r){return{regex:t,deser:([r])=>e(vf(r))}}var xf="\xA0",Vo=`[ ${xf}]`,$o=new RegExp(Vo,"g");function _f(t){return t.replace(/\./g,"\\.?").replace($o,Vo)}function Vi(t){return t.replace(/\./g,"").replace($o," ").toLowerCase()}function Ze(t,e){return t===null?null:{regex:RegExp(t.map(_f).join("|")),deser:([r])=>t.findIndex(n=>Vi(r)===Vi(n))+e}}function $i(t,e){return{regex:t,deser:([,r,n])=>es(r,n),groups:e}}function Mn(t){return{regex:t,deser:([e])=>e}}function Ef(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Cf(t,e){let r=Ue(e),n=Ue(e,"{2}"),s=Ue(e,"{3}"),a=Ue(e,"{4}"),i=Ue(e,"{6}"),o=Ue(e,"{1,2}"),l=Ue(e,"{1,3}"),c=Ue(e,"{1,6}"),p=Ue(e,"{1,9}"),x=Ue(e,"{2,4}"),v=Ue(e,"{4,6}"),b=L=>({regex:RegExp(Ef(L.val)),deser:([Q])=>Q,literal:!0}),j=(L=>{if(t.literal)return b(L);switch(L.val){case"G":return Ze(e.eras("short"),0);case"GG":return Ze(e.eras("long"),0);case"y":return K(c);case"yy":return K(x,Ks);case"yyyy":return K(a);case"yyyyy":return K(v);case"yyyyyy":return K(i);case"M":return K(o);case"MM":return K(n);case"MMM":return Ze(e.months("short",!0),1);case"MMMM":return Ze(e.months("long",!0),1);case"L":return K(o);case"LL":return K(n);case"LLL":return Ze(e.months("short",!1),1);case"LLLL":return Ze(e.months("long",!1),1);case"d":return K(o);case"dd":return K(n);case"o":return K(l);case"ooo":return K(s);case"HH":return K(n);case"H":return K(o);case"hh":return K(n);case"h":return K(o);case"mm":return K(n);case"m":return K(o);case"q":return K(o);case"qq":return K(n);case"s":return K(o);case"ss":return K(n);case"S":return K(l);case"SSS":return K(s);case"u":return Mn(p);case"uu":return Mn(o);case"uuu":return K(r);case"a":return Ze(e.meridiems(),0);case"kkkk":return K(a);case"kk":return K(x,Ks);case"W":return K(o);case"WW":return K(n);case"E":case"c":return K(r);case"EEE":return Ze(e.weekdays("short",!1),1);case"EEEE":return Ze(e.weekdays("long",!1),1);case"ccc":return Ze(e.weekdays("short",!0),1);case"cccc":return Ze(e.weekdays("long",!0),1);case"Z":case"ZZ":return $i(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return $i(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return Mn(/[a-z_+-/]{1,256}?/i);case" ":return Mn(/[^\S\n\r]/);default:return b(L)}})(t)||{invalidReason:bf};return j.token=t,j}var Pf={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Tf(t,e,r){let{type:n,value:s}=t;if(n==="literal"){let l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}let a=e[n],i=n;n==="hour"&&(e.hour12!=null?i=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?i="hour12":i="hour24":i=r.hour12?"hour12":"hour24");let o=Pf[i];if(typeof o=="object"&&(o=o[a]),o)return{literal:!1,val:o}}function Sf(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function Nf(t,e,r){let n=t.match(e);if(n){let s={},a=1;for(let i in r)if(Pr(r,i)){let o=r[i],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(n.slice(a,a+l))),a+=l}return[n,s]}else return[n,{}]}function kf(t){let e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return J(t.z)||(r=Et.create(t.z)),J(t.Z)||(r||(r=new Re(t.Z)),n=t.Z),J(t.q)||(t.M=(t.q-1)*3+1),J(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),J(t.u)||(t.S=oa(t.u)),[Object.keys(t).reduce((a,i)=>{let o=e(i);return o&&(a[o]=t[i]),a},{}),r,n]}var Is=null;function Of(){return Is||(Is=q.fromMillis(1555555555555)),Is}function Af(t,e){if(t.literal)return t;let r=Ce.macroTokenToFormatOpts(t.val),n=Wo(r,e);return n==null||n.includes(void 0)?t:n}function Uo(t,e){return Array.prototype.concat(...t.map(r=>Af(r,e)))}function Zo(t,e,r){let n=Uo(Ce.parseFormat(r),t),s=n.map(i=>Cf(i,t)),a=s.find(i=>i.invalidReason);if(a)return{input:e,tokens:n,invalidReason:a.invalidReason};{let[i,o]=Sf(s),l=RegExp(i,"i"),[c,p]=Nf(e,l,o),[x,v,b]=p?kf(p):[null,null,void 0];if(Pr(p,"a")&&Pr(p,"H"))throw new Qt("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:c,matches:p,result:x,zone:v,specificOffset:b}}}function Rf(t,e,r){let{result:n,zone:s,specificOffset:a,invalidReason:i}=Zo(t,e,r);return[n,s,a,i]}function Wo(t,e){if(!t)return null;let n=Ce.create(e,t).dtFormatter(Of()),s=n.formatToParts(),a=n.resolvedOptions();return s.map(i=>Tf(i,t,a))}var qo=[0,31,59,90,120,151,181,212,243,273,304,334],Yo=[0,31,60,91,121,152,182,213,244,274,305,335];function Ae(t,e){return new Pe("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Go(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let s=n.getUTCDay();return s===0?7:s}function Jo(t,e,r){return r+(ln(t)?Yo:qo)[e-1]}function Qo(t,e){let r=ln(t)?Yo:qo,n=r.findIndex(a=>a<e),s=e-r[n];return{month:n+1,day:s}}function Xs(t){let{year:e,month:r,day:n}=t,s=Jo(e,r,n),a=Go(e,r,n),i=Math.floor((s-a+10)/7),o;return i<1?(o=e-1,i=Wn(o)):i>Wn(e)?(o=e+1,i=1):o=e,{weekYear:o,weekNumber:i,weekday:a,...ts(t)}}function Ui(t){let{weekYear:e,weekNumber:r,weekday:n}=t,s=Go(e,1,4),a=sn(e),i=r*7+n-s-3,o;i<1?(o=e-1,i+=sn(o)):i>a?(o=e+1,i-=sn(e)):o=e;let{month:l,day:c}=Qo(o,i);return{year:o,month:l,day:c,...ts(t)}}function Ms(t){let{year:e,month:r,day:n}=t,s=Jo(e,r,n);return{year:e,ordinal:s,...ts(t)}}function Zi(t){let{year:e,ordinal:r}=t,{month:n,day:s}=Qo(e,r);return{year:e,month:n,day:s,...ts(t)}}function If(t){let e=Kn(t.weekYear),r=ft(t.weekNumber,1,Wn(t.weekYear)),n=ft(t.weekday,1,7);return e?r?n?!1:Ae("weekday",t.weekday):Ae("week",t.week):Ae("weekYear",t.weekYear)}function Mf(t){let e=Kn(t.year),r=ft(t.ordinal,1,sn(t.year));return e?r?!1:Ae("ordinal",t.ordinal):Ae("year",t.year)}function Ko(t){let e=Kn(t.year),r=ft(t.month,1,12),n=ft(t.day,1,Zn(t.year,t.month));return e?r?n?!1:Ae("day",t.day):Ae("month",t.month):Ae("year",t.year)}function Xo(t){let{hour:e,minute:r,second:n,millisecond:s}=t,a=ft(e,0,23)||e===24&&r===0&&n===0&&s===0,i=ft(r,0,59),o=ft(n,0,59),l=ft(s,0,999);return a?i?o?l?!1:Ae("millisecond",s):Ae("second",n):Ae("minute",r):Ae("hour",e)}var Bs="Invalid DateTime",Wi=864e13;function Bn(t){return new Pe("unsupported zone",`the zone "${t.name}" is not supported`)}function Ls(t){return t.weekData===null&&(t.weekData=Xs(t.c)),t.weekData}function Jt(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new q({...r,...e,old:r})}function eu(t,e,r){let n=t-e*60*1e3,s=r.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;let a=r.offset(n);return s===a?[n,s]:[t-Math.min(s,a)*60*1e3,Math.max(s,a)]}function Ln(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function zn(t,e,r){return eu(Xn(t),e,r)}function qi(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:n,month:s,day:Math.min(t.c.day,Zn(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},i=I.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Xn(a),[l,c]=eu(o,r,t.zone);return i!==0&&(l+=i,c=t.zone.offset(l)),{ts:l,o:c}}function en(t,e,r,n,s,a){let{setZone:i,zone:o}=r;if(t&&Object.keys(t).length!==0||e){let l=e||o,c=q.fromObject(t,{...r,zone:l,specificOffset:a});return i?c:c.setZone(o)}else return q.invalid(new Pe("unparsable",`the input "${s}" can't be parsed as ${n}`))}function jn(t,e,r=!0){return t.isValid?Ce.create(ie.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function js(t,e){let r=t.c.year>9999||t.c.year<0,n="";return r&&t.c.year>=0&&(n+="+"),n+=ue(t.c.year,r?6:4),e?(n+="-",n+=ue(t.c.month),n+="-",n+=ue(t.c.day)):(n+=ue(t.c.month),n+=ue(t.c.day)),n}function Yi(t,e,r,n,s,a){let i=ue(t.c.hour);return e?(i+=":",i+=ue(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(i+=":")):i+=ue(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(i+=ue(t.c.second),(t.c.millisecond!==0||!n)&&(i+=".",i+=ue(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!a?i+="Z":t.o<0?(i+="-",i+=ue(Math.trunc(-t.o/60)),i+=":",i+=ue(Math.trunc(-t.o%60))):(i+="+",i+=ue(Math.trunc(t.o/60)),i+=":",i+=ue(Math.trunc(t.o%60)))),a&&(i+="["+t.zone.ianaName+"]"),i}var tu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Bf={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Lf={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ru=["year","month","day","hour","minute","second","millisecond"],jf=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Hf=["year","ordinal","hour","minute","second","millisecond"];function Gi(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Vn(t);return e}function Ji(t,e){let r=_t(e.zone,ae.defaultZone),n=ie.fromObject(e),s=ae.now(),a,i;if(J(t.year))a=s;else{for(let c of ru)J(t[c])&&(t[c]=tu[c]);let o=Ko(t)||Xo(t);if(o)return q.invalid(o);let l=r.offset(s);[a,i]=zn(t,l,r)}return new q({ts:a,zone:r,loc:n,o:i})}function Qi(t,e,r){let n=J(r.round)?!0:r.round,s=(i,o)=>(i=ua(i,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(i,o)),a=i=>r.calendary?e.hasSame(t,i)?0:e.startOf(i).diff(t.startOf(i),i).get(i):e.diff(t,i).get(i);if(r.unit)return s(a(r.unit),r.unit);for(let i of r.units){let o=a(i);if(Math.abs(o)>=1)return s(o,i)}return s(t>e?-0:0,r.units[r.units.length-1])}function Ki(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var q=class t{constructor(e){let r=e.zone||ae.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Pe("invalid input"):null)||(r.isValid?null:Bn(r));this.ts=J(e.ts)?ae.now():e.ts;let s=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[s,a]=[e.old.c,e.old.o];else{let o=r.offset(this.ts);s=Ln(this.ts,o),n=Number.isNaN(s.year)?new Pe("invalid input"):null,s=n?null:s,a=n?null:o}this._zone=r,this.loc=e.loc||ie.create(),this.invalid=n,this.weekData=null,this.c=s,this.o=a,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[e,r]=Ki(arguments),[n,s,a,i,o,l,c]=r;return Ji({year:n,month:s,day:a,hour:i,minute:o,second:l,millisecond:c},e)}static utc(){let[e,r]=Ki(arguments),[n,s,a,i,o,l,c]=r;return e.zone=Re.utcInstance,Ji({year:n,month:s,day:a,hour:i,minute:o,second:l,millisecond:c},e)}static fromJSDate(e,r={}){let n=md(e)?e.valueOf():NaN;if(Number.isNaN(n))return t.invalid("invalid input");let s=_t(r.zone,ae.defaultZone);return s.isValid?new t({ts:n,zone:s,loc:ie.fromObject(r)}):t.invalid(Bn(s))}static fromMillis(e,r={}){if(Xt(e))return e<-Wi||e>Wi?t.invalid("Timestamp out of range"):new t({ts:e,zone:_t(r.zone,ae.defaultZone),loc:ie.fromObject(r)});throw new _e(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Xt(e))return new t({ts:e*1e3,zone:_t(r.zone,ae.defaultZone),loc:ie.fromObject(r)});throw new _e("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=_t(r.zone,ae.defaultZone);if(!n.isValid)return t.invalid(Bn(n));let s=ae.now(),a=J(r.specificOffset)?n.offset(s):r.specificOffset,i=qn(e,Gi),o=!J(i.ordinal),l=!J(i.year),c=!J(i.month)||!J(i.day),p=l||c,x=i.weekYear||i.weekNumber,v=ie.fromObject(r);if((p||o)&&x)throw new Qt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new Qt("Can't mix ordinal dates with month/day");let b=x||i.weekday&&!p,A,j,L=Ln(s,a);b?(A=jf,j=Bf,L=Xs(L)):o?(A=Hf,j=Lf,L=Ms(L)):(A=ru,j=tu);let Q=!1;for(let $ of A){let X=i[$];J(X)?Q?i[$]=j[$]:i[$]=L[$]:Q=!0}let ye=b?If(i):o?Mf(i):Ko(i),ge=ye||Xo(i);if(ge)return t.invalid(ge);let F=b?Ui(i):o?Zi(i):i,[Z,oe]=zn(F,a,n),N=new t({ts:Z,zone:n,o:oe,loc:v});return i.weekday&&p&&e.weekday!==N.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${N.toISO()}`):N}static fromISO(e,r={}){let[n,s]=rf(e);return en(n,s,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,s]=nf(e);return en(n,s,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,s]=sf(e);return en(n,s,r,"HTTP",r)}static fromFormat(e,r,n={}){if(J(e)||J(r))throw new _e("fromFormat requires an input string and a format");let{locale:s=null,numberingSystem:a=null}=n,i=ie.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0}),[o,l,c,p]=Rf(i,e,r);return p?t.invalid(p):en(o,l,n,`format ${r}`,e,c)}static fromString(e,r,n={}){return t.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,s]=ff(e);return en(n,s,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new _e("need to specify a reason the DateTime is invalid");let n=e instanceof Pe?e:new Pe(e,r);if(ae.throwOnInvalid)throw new zs(n);return new t({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=Wo(e,ie.fromObject(r));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,r={}){return Uo(Ce.parseFormat(e),ie.fromObject(r)).map(s=>s.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ls(this).weekYear:NaN}get weekNumber(){return this.isValid?Ls(this).weekNumber:NaN}get weekday(){return this.isValid?Ls(this).weekday:NaN}get ordinal(){return this.isValid?Ms(this.c).ordinal:NaN}get monthShort(){return this.isValid?_r.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?_r.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?_r.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?_r.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,r=6e4,n=Xn(this.c),s=this.zone.offset(n-e),a=this.zone.offset(n+e),i=this.zone.offset(n-s*r),o=this.zone.offset(n-a*r);if(i===o)return[this];let l=n-i*r,c=n-o*r,p=Ln(l,i),x=Ln(c,o);return p.hour===x.hour&&p.minute===x.minute&&p.second===x.second&&p.millisecond===x.millisecond?[Jt(this,{ts:l}),Jt(this,{ts:c})]:[this]}get isInLeapYear(){return ln(this.year)}get daysInMonth(){return Zn(this.year,this.month)}get daysInYear(){return this.isValid?sn(this.year):NaN}get weeksInWeekYear(){return this.isValid?Wn(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:s}=Ce.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:s}}toUTC(e=0,r={}){return this.setZone(Re.instance(e),r)}toLocal(){return this.setZone(ae.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=_t(e,ae.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(r||n){let a=e.offset(this.ts),i=this.toObject();[s]=zn(i,a,e)}return Jt(this,{ts:s,zone:e})}else return t.invalid(Bn(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let s=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Jt(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=qn(e,Gi),n=!J(r.weekYear)||!J(r.weekNumber)||!J(r.weekday),s=!J(r.ordinal),a=!J(r.year),i=!J(r.month)||!J(r.day),o=a||i,l=r.weekYear||r.weekNumber;if((o||s)&&l)throw new Qt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(i&&s)throw new Qt("Can't mix ordinal dates with month/day");let c;n?c=Ui({...Xs(this.c),...r}):J(r.ordinal)?(c={...this.toObject(),...r},J(r.day)&&(c.day=Math.min(Zn(c.year,c.month),c.day))):c=Zi({...Ms(this.c),...r});let[p,x]=zn(c,this.o,this.zone);return Jt(this,{ts:p,o:x})}plus(e){if(!this.isValid)return this;let r=I.fromDurationLike(e);return Jt(this,qi(this,r))}minus(e){if(!this.isValid)return this;let r=I.fromDurationLike(e).negate();return Jt(this,qi(this,r))}startOf(e){if(!this.isValid)return this;let r={},n=I.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){let s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?Ce.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):Bs}toLocaleString(e=$n,r={}){return this.isValid?Ce.create(this.loc.clone(r),e).formatDateTime(this):Bs}toLocaleParts(e={}){return this.isValid?Ce.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;let i=e==="extended",o=js(this,i);return o+="T",o+=Yi(this,i,r,n,s,a),o}toISODate({format:e="extended"}={}){return this.isValid?js(this,e==="extended"):null}toISOWeekDate(){return jn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:a=!1,format:i="extended"}={}){return this.isValid?(s?"T":"")+Yi(this,i==="extended",r,e,n,a):null}toRFC2822(){return jn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return jn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?js(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(r||e)&&(n&&(s+=" "),r?s+="z":e&&(s+="ZZ")),jn(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Bs}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return I.invalid("created by diffing an invalid DateTime");let s={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=pd(r).map(I.normalizeUnit),i=e.valueOf()>this.valueOf(),o=i?this:e,l=i?e:this,c=Ff(o,l,a,s);return i?c.negate():c}diffNow(e="milliseconds",r={}){return this.diff(t.now(),e,r)}until(e){return this.isValid?Cr.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;let n=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(r)<=n&&n<=s.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||t.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,s=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(s=e.unit,a=void 0),Qi(r,this.plus(n),{...e,numeric:"always",units:s,unit:a})}toRelativeCalendar(e={}){return this.isValid?Qi(e.base||t.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(t.isDateTime))throw new _e("min requires all arguments be DateTimes");return Ii(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(t.isDateTime))throw new _e("max requires all arguments be DateTimes");return Ii(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:s=null,numberingSystem:a=null}=n,i=ie.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0});return Zo(i,e,r)}static fromStringExplain(e,r,n={}){return t.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return $n}static get DATE_MED(){return so}static get DATE_MED_WITH_WEEKDAY(){return Qc}static get DATE_FULL(){return ao}static get DATE_HUGE(){return io}static get TIME_SIMPLE(){return oo}static get TIME_WITH_SECONDS(){return uo}static get TIME_WITH_SHORT_OFFSET(){return lo}static get TIME_WITH_LONG_OFFSET(){return co}static get TIME_24_SIMPLE(){return fo}static get TIME_24_WITH_SECONDS(){return mo}static get TIME_24_WITH_SHORT_OFFSET(){return po}static get TIME_24_WITH_LONG_OFFSET(){return ho}static get DATETIME_SHORT(){return Do}static get DATETIME_SHORT_WITH_SECONDS(){return yo}static get DATETIME_MED(){return go}static get DATETIME_MED_WITH_SECONDS(){return Fo}static get DATETIME_MED_WITH_WEEKDAY(){return Kc}static get DATETIME_FULL(){return wo}static get DATETIME_FULL_WITH_SECONDS(){return vo}static get DATETIME_HUGE(){return bo}static get DATETIME_HUGE_WITH_SECONDS(){return xo}};function tn(t){if(q.isDateTime(t))return t;if(t&&t.valueOf&&Xt(t.valueOf()))return q.fromJSDate(t);if(t&&typeof t=="object")return q.fromObject(t);throw new _e(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var ma={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},zf={allowHtml:!0};({...ma,...zf});var ea=class t{value;successful;constructor(e){this.value=e,this.successful=!0}map(e){return new t(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,r){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},ta=class t{error;successful;constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new t(e(this.error))}bimap(e,r){return this.mapErr(r)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},Yn;(function(t){function e(a){return new ea(a)}t.success=e;function r(a){return new ta(a)}t.failure=r;function n(a,i,o){return a.successful?i.successful?o(a.value,i.value):r(i.error):r(a.error)}t.flatMap2=n;function s(a,i,o){return n(a,i,(l,c)=>e(o(l,c)))}t.map2=s})(Yn||(Yn={}));var Vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gn={exports:{}};Gn.exports;(function(t,e){(function(r,n){t.exports=n()})(typeof self<"u"?self:Vf,function(){return function(r){var n={};function s(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return r[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=r,s.c=n,s.d=function(a,i,o){s.o(a,i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!0,get:o})},s.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},s.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(i,"a",i),i},s.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)},s.p="",s(s.s=0)}([function(r,n,s){function a(u){if(!(this instanceof a))return new a(u);this._=u}var i=a.prototype;function o(u,f){for(var m=0;m<u;m++)f(m)}function l(u,f,m){return function(h,w){o(w.length,function(_){h(w[_],_,w)})}(function(h,w,_){f=u(f,h,w,_)},m),f}function c(u,f){return l(function(m,h,w,_){return m.concat([u(h,w,_)])},[],f)}function p(u,f){var m={v:0,buf:f};return o(u,function(){var h;m={v:m.v<<1|(h=m.buf,h[0]>>7),buf:function(w){var _=l(function(E,H,ee,De){return E.concat(ee===De.length-1?Buffer.from([H,0]).readUInt16BE(0):De.readUInt16BE(ee))},[],w);return Buffer.from(c(function(E){return(E<<1&65535)>>8},_))}(m.buf)}}),m}function x(){return typeof Buffer<"u"}function v(){if(!x())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function b(u){v();var f=l(function(_,E){return _+E},0,u);if(f%8!=0)throw new Error("The bits ["+u.join(", ")+"] add up to "+f+" which is not an even number of bytes; the total should be divisible by 8");var m,h=f/8,w=(m=function(_){return _>48},l(function(_,E){return _||(m(E)?E:_)},null,u));if(w)throw new Error(w+" bit range requested exceeds 48 bit (6 byte) Number max.");return new a(function(_,E){var H=h+E;return H>_.length?$(E,h.toString()+" bytes"):N(H,l(function(ee,De){var de=p(De,ee.buf);return{coll:ee.coll.concat(de.v),buf:de.buf}},{coll:[],buf:_.slice(E,H)},u).coll)})}function A(u,f){return new a(function(m,h){return v(),h+f>m.length?$(h,f+" bytes for "+u):N(h+f,m.slice(h,h+f))})}function j(u,f){if(typeof(m=f)!="number"||Math.floor(m)!==m||f<0||f>6)throw new Error(u+" requires integer length in range [0, 6].");var m}function L(u){return j("uintBE",u),A("uintBE("+u+")",u).map(function(f){return f.readUIntBE(0,u)})}function Q(u){return j("uintLE",u),A("uintLE("+u+")",u).map(function(f){return f.readUIntLE(0,u)})}function ye(u){return j("intBE",u),A("intBE("+u+")",u).map(function(f){return f.readIntBE(0,u)})}function ge(u){return j("intLE",u),A("intLE("+u+")",u).map(function(f){return f.readIntLE(0,u)})}function F(u){return u instanceof a}function Z(u){return{}.toString.call(u)==="[object Array]"}function oe(u){return x()&&Buffer.isBuffer(u)}function N(u,f){return{status:!0,index:u,value:f,furthest:-1,expected:[]}}function $(u,f){return Z(f)||(f=[f]),{status:!1,index:-1,value:null,furthest:u,expected:f}}function X(u,f){if(!f||u.furthest>f.furthest)return u;var m=u.furthest===f.furthest?function(h,w){if(function(){if(a._supportsSet!==void 0)return a._supportsSet;var it=typeof Set<"u";return a._supportsSet=it,it}()&&Array.from){for(var _=new Set(h),E=0;E<w.length;E++)_.add(w[E]);var H=Array.from(_);return H.sort(),H}for(var ee={},De=0;De<h.length;De++)ee[h[De]]=!0;for(var de=0;de<w.length;de++)ee[w[de]]=!0;var at=[];for(var Ee in ee)({}).hasOwnProperty.call(ee,Ee)&&at.push(Ee);return at.sort(),at}(u.expected,f.expected):f.expected;return{status:u.status,index:u.index,value:u.value,furthest:f.furthest,expected:m}}var Ie={};function Ir(u,f){if(oe(u))return{offset:f,line:-1,column:-1};u in Ie||(Ie[u]={});for(var m=Ie[u],h=0,w=0,_=0,E=f;E>=0;){if(E in m){h=m[E].line,_===0&&(_=m[E].lineStart);break}(u.charAt(E)===`
`||u.charAt(E)==="\r"&&u.charAt(E+1)!==`
`)&&(w++,_===0&&(_=E+1)),E--}var H=h+w,ee=f-_;return m[f]={line:H,lineStart:_},{offset:f,line:H+1,column:ee+1}}function nt(u){if(!F(u))throw new Error("not a parser: "+u)}function Ct(u,f){return typeof u=="string"?u.charAt(f):u[f]}function Ge(u){if(typeof u!="number")throw new Error("not a number: "+u)}function Me(u){if(typeof u!="function")throw new Error("not a function: "+u)}function pt(u){if(typeof u!="string")throw new Error("not a string: "+u)}var mn=2,Mr=3,Be=8,pn=5*Be,Le=4*Be,ht="  ";function hn(u,f){return new Array(f+1).join(u)}function Dn(u,f,m){var h=f-u.length;return h<=0?u:hn(m,h)+u}function Fa(u,f,m,h){return{from:u-f>0?u-f:0,to:u+m>h?h:u+m}}function Zu(u,f){var m,h,w,_,E,H=f.index,ee=H.offset,De=1;if(ee===u.length)return"Got the end of the input";if(oe(u)){var de=ee-ee%Be,at=ee-de,Ee=Fa(de,pn,Le+Be,u.length),it=c(function(le){return c(function(rr){return Dn(rr.toString(16),2,"0")},le)},function(le,rr){var nr=le.length,St=[],sr=0;if(nr<=rr)return[le.slice()];for(var ar=0;ar<nr;ar++)St[sr]||St.push([]),St[sr].push(le[ar]),(ar+1)%rr==0&&sr++;return St}(u.slice(Ee.from,Ee.to).toJSON().data,Be));_=function(le){return le.from===0&&le.to===1?{from:le.from,to:le.to}:{from:le.from/Be,to:Math.floor(le.to/Be)}}(Ee),h=de/Be,m=3*at,at>=4&&(m+=1),De=2,w=c(function(le){return le.length<=4?le.join(" "):le.slice(0,4).join(" ")+"  "+le.slice(4).join(" ")},it),(E=(8*(_.to>0?_.to-1:_.to)).toString(16).length)<2&&(E=2)}else{var tr=u.split(/\r\n|[\n\r\u2028\u2029]/);m=H.column-1,h=H.line-1,_=Fa(h,mn,Mr,tr.length),w=tr.slice(_.from,_.to),E=_.to.toString().length}var tl=h-_.from;return oe(u)&&(E=(8*(_.to>0?_.to-1:_.to)).toString(16).length)<2&&(E=2),l(function(le,rr,nr){var St,sr=nr===tl,ar=sr?"> ":ht;return St=oe(u)?Dn((8*(_.from+nr)).toString(16),E,"0"):Dn((_.from+nr+1).toString(),E," "),[].concat(le,[ar+St+" | "+rr],sr?[ht+hn(" ",E)+" | "+Dn("",m," ")+hn("^",De)]:[])},[],w).join(`
`)}function wa(u,f){return[`
`,"-- PARSING FAILED "+hn("-",50),`

`,Zu(u,f),`

`,(m=f.expected,m.length===1?`Expected:

`+m[0]:`Expected one of the following: 

`+m.join(", ")),`
`].join("");var m}function va(u){return u.flags!==void 0?u.flags:[u.global?"g":"",u.ignoreCase?"i":"",u.multiline?"m":"",u.unicode?"u":"",u.sticky?"y":""].join("")}function yn(){for(var u=[].slice.call(arguments),f=u.length,m=0;m<f;m+=1)nt(u[m]);return a(function(h,w){for(var _,E=new Array(f),H=0;H<f;H+=1){if(!(_=X(u[H]._(h,w),_)).status)return _;E[H]=_.value,w=_.index}return X(N(w,E),_)})}function Pt(){var u=[].slice.call(arguments);if(u.length===0)throw new Error("seqMap needs at least one argument");var f=u.pop();return Me(f),yn.apply(null,u).map(function(m){return f.apply(null,m)})}function gn(){var u=[].slice.call(arguments),f=u.length;if(f===0)return Fn("zero alternates");for(var m=0;m<f;m+=1)nt(u[m]);return a(function(h,w){for(var _,E=0;E<u.length;E+=1)if((_=X(u[E]._(h,w),_)).status)return _;return _})}function ba(u,f){return ls(u,f).or(Tt([]))}function ls(u,f){return nt(u),nt(f),Pt(u,f.then(u).many(),function(m,h){return[m].concat(h)})}function Br(u){pt(u);var f="'"+u+"'";return a(function(m,h){var w=h+u.length,_=m.slice(h,w);return _===u?N(w,_):$(h,f)})}function st(u,f){(function(w){if(!(w instanceof RegExp))throw new Error("not a regexp: "+w);for(var _=va(w),E=0;E<_.length;E++){var H=_.charAt(E);if(H!=="i"&&H!=="m"&&H!=="u"&&H!=="s")throw new Error('unsupported regexp flag "'+H+'": '+w)}})(u),arguments.length>=2?Ge(f):f=0;var m=function(w){return RegExp("^(?:"+w.source+")",va(w))}(u),h=""+u;return a(function(w,_){var E=m.exec(w.slice(_));if(E){if(0<=f&&f<=E.length){var H=E[0],ee=E[f];return N(_+H.length,ee)}return $(_,"valid match group (0 to "+E.length+") in "+h)}return $(_,h)})}function Tt(u){return a(function(f,m){return N(m,u)})}function Fn(u){return a(function(f,m){return $(m,u)})}function wn(u){if(F(u))return a(function(f,m){var h=u._(f,m);return h.index=m,h.value="",h});if(typeof u=="string")return wn(Br(u));if(u instanceof RegExp)return wn(st(u));throw new Error("not a string, regexp, or parser: "+u)}function xa(u){return nt(u),a(function(f,m){var h=u._(f,m),w=f.slice(m,h.index);return h.status?$(m,'not "'+w+'"'):N(m,null)})}function vn(u){return Me(u),a(function(f,m){var h=Ct(f,m);return m<f.length&&u(h)?N(m+1,h):$(m,"a character/byte matching "+u)})}function _a(u,f){arguments.length<2&&(f=u,u=void 0);var m=a(function(h,w){return m._=f()._,m._(h,w)});return u?m.desc(u):m}function cs(){return Fn("fantasy-land/empty")}i.parse=function(u){if(typeof u!="string"&&!oe(u))throw new Error(".parse must be called with a string or Buffer as its argument");var f,m=this.skip(ds)._(u,0);return f=m.status?{status:!0,value:m.value}:{status:!1,index:Ir(u,m.furthest),expected:m.expected},delete Ie[u],f},i.tryParse=function(u){var f=this.parse(u);if(f.status)return f.value;var m=wa(u,f),h=new Error(m);throw h.type="ParsimmonError",h.result=f,h},i.assert=function(u,f){return this.chain(function(m){return u(m)?Tt(m):Fn(f)})},i.or=function(u){return gn(this,u)},i.trim=function(u){return this.wrap(u,u)},i.wrap=function(u,f){return Pt(u,this,f,function(m,h){return h})},i.thru=function(u){return u(this)},i.then=function(u){return nt(u),yn(this,u).map(function(f){return f[1]})},i.many=function(){var u=this;return a(function(f,m){for(var h=[],w=void 0;;){if(!(w=X(u._(f,m),w)).status)return X(N(m,h),w);if(m===w.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");m=w.index,h.push(w.value)}})},i.tieWith=function(u){return pt(u),this.map(function(f){if(function(w){if(!Z(w))throw new Error("not an array: "+w)}(f),f.length){pt(f[0]);for(var m=f[0],h=1;h<f.length;h++)pt(f[h]),m+=u+f[h];return m}return""})},i.tie=function(){return this.tieWith("")},i.times=function(u,f){var m=this;return arguments.length<2&&(f=u),Ge(u),Ge(f),a(function(h,w){for(var _=[],E=void 0,H=void 0,ee=0;ee<u;ee+=1){if(H=X(E=m._(h,w),H),!E.status)return H;w=E.index,_.push(E.value)}for(;ee<f&&(H=X(E=m._(h,w),H),E.status);ee+=1)w=E.index,_.push(E.value);return X(N(w,_),H)})},i.result=function(u){return this.map(function(){return u})},i.atMost=function(u){return this.times(0,u)},i.atLeast=function(u){return Pt(this.times(u),this.many(),function(f,m){return f.concat(m)})},i.map=function(u){Me(u);var f=this;return a(function(m,h){var w=f._(m,h);return w.status?X(N(w.index,u(w.value)),w):w})},i.contramap=function(u){Me(u);var f=this;return a(function(m,h){var w=f.parse(u(m.slice(h)));return w.status?N(h+m.length,w.value):w})},i.promap=function(u,f){return Me(u),Me(f),this.contramap(u).map(f)},i.skip=function(u){return yn(this,u).map(function(f){return f[0]})},i.mark=function(){return Pt(Lr,this,Lr,function(u,f,m){return{start:u,value:f,end:m}})},i.node=function(u){return Pt(Lr,this,Lr,function(f,m,h){return{name:u,value:m,start:f,end:h}})},i.sepBy=function(u){return ba(this,u)},i.sepBy1=function(u){return ls(this,u)},i.lookahead=function(u){return this.skip(wn(u))},i.notFollowedBy=function(u){return this.skip(xa(u))},i.desc=function(u){Z(u)||(u=[u]);var f=this;return a(function(m,h){var w=f._(m,h);return w.status||(w.expected=u),w})},i.fallback=function(u){return this.or(Tt(u))},i.ap=function(u){return Pt(u,this,function(f,m){return f(m)})},i.chain=function(u){var f=this;return a(function(m,h){var w=f._(m,h);return w.status?X(u(w.value)._(m,w.index),w):w})},i.concat=i.or,i.empty=cs,i.of=Tt,i["fantasy-land/ap"]=i.ap,i["fantasy-land/chain"]=i.chain,i["fantasy-land/concat"]=i.concat,i["fantasy-land/empty"]=i.empty,i["fantasy-land/of"]=i.of,i["fantasy-land/map"]=i.map;var Lr=a(function(u,f){return N(f,Ir(u,f))}),Wu=a(function(u,f){return f>=u.length?$(f,"any character/byte"):N(f+1,Ct(u,f))}),qu=a(function(u,f){return N(u.length,u.slice(f))}),ds=a(function(u,f){return f<u.length?$(f,"EOF"):N(f,null)}),Yu=st(/[0-9]/).desc("a digit"),Gu=st(/[0-9]*/).desc("optional digits"),Ju=st(/[a-z]/i).desc("a letter"),Qu=st(/[a-z]*/i).desc("optional letters"),Ku=st(/\s*/).desc("optional whitespace"),Xu=st(/\s+/).desc("whitespace"),Ea=Br("\r"),Ca=Br(`
`),Pa=Br(`\r
`),Ta=gn(Pa,Ca,Ea).desc("newline"),el=gn(Ta,ds);a.all=qu,a.alt=gn,a.any=Wu,a.cr=Ea,a.createLanguage=function(u){var f={};for(var m in u)({}).hasOwnProperty.call(u,m)&&function(h){f[h]=_a(function(){return u[h](f)})}(m);return f},a.crlf=Pa,a.custom=function(u){return a(u(N,$))},a.digit=Yu,a.digits=Gu,a.empty=cs,a.end=el,a.eof=ds,a.fail=Fn,a.formatError=wa,a.index=Lr,a.isParser=F,a.lazy=_a,a.letter=Ju,a.letters=Qu,a.lf=Ca,a.lookahead=wn,a.makeFailure=$,a.makeSuccess=N,a.newline=Ta,a.noneOf=function(u){return vn(function(f){return u.indexOf(f)<0}).desc("none of '"+u+"'")},a.notFollowedBy=xa,a.of=Tt,a.oneOf=function(u){for(var f=u.split(""),m=0;m<f.length;m++)f[m]="'"+f[m]+"'";return vn(function(h){return u.indexOf(h)>=0}).desc(f)},a.optWhitespace=Ku,a.Parser=a,a.range=function(u,f){return vn(function(m){return u<=m&&m<=f}).desc(u+"-"+f)},a.regex=st,a.regexp=st,a.sepBy=ba,a.sepBy1=ls,a.seq=yn,a.seqMap=Pt,a.seqObj=function(){for(var u,f={},m=0,h=(u=arguments,Array.prototype.slice.call(u)),w=h.length,_=0;_<w;_+=1){var E=h[_];if(!F(E)){if(Z(E)&&E.length===2&&typeof E[0]=="string"&&F(E[1])){var H=E[0];if(Object.prototype.hasOwnProperty.call(f,H))throw new Error("seqObj: duplicate key "+H);f[H]=!0,m++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(m===0)throw new Error("seqObj expects at least one named parser, found zero");return a(function(ee,De){for(var de,at={},Ee=0;Ee<w;Ee+=1){var it,tr;if(Z(h[Ee])?(it=h[Ee][0],tr=h[Ee][1]):(it=null,tr=h[Ee]),!(de=X(tr._(ee,De),de)).status)return de;it&&(at[it]=de.value),De=de.index}return X(N(De,at),de)})},a.string=Br,a.succeed=Tt,a.takeWhile=function(u){return Me(u),a(function(f,m){for(var h=m;h<f.length&&u(Ct(f,h));)h++;return N(h,f.slice(m,h))})},a.test=vn,a.whitespace=Xu,a["fantasy-land/empty"]=cs,a["fantasy-land/of"]=Tt,a.Binary={bitSeq:b,bitSeqObj:function(u){v();var f={},m=0,h=c(function(_){if(Z(_)){var E=_;if(E.length!==2)throw new Error("["+E.join(", ")+"] should be length 2, got length "+E.length);if(pt(E[0]),Ge(E[1]),Object.prototype.hasOwnProperty.call(f,E[0]))throw new Error("duplicate key in bitSeqObj: "+E[0]);return f[E[0]]=!0,m++,E}return Ge(_),[null,_]},u);if(m<1)throw new Error("bitSeqObj expects at least one named pair, got ["+u.join(", ")+"]");var w=c(function(_){return _[0]},h);return b(c(function(_){return _[1]},h)).map(function(_){return l(function(E,H){return H[0]!==null&&(E[H[0]]=H[1]),E},{},c(function(E,H){return[E,_[H]]},w))})},byte:function(u){if(v(),Ge(u),u>255)throw new Error("Value specified to byte constructor ("+u+"=0x"+u.toString(16)+") is larger in value than a single byte.");var f=(u>15?"0x":"0x0")+u.toString(16);return a(function(m,h){var w=Ct(m,h);return w===u?N(h+1,w):$(h,f)})},buffer:function(u){return A("buffer",u).map(function(f){return Buffer.from(f)})},encodedString:function(u,f){return A("string",f).map(function(m){return m.toString(u)})},uintBE:L,uint8BE:L(1),uint16BE:L(2),uint32BE:L(4),uintLE:Q,uint8LE:Q(1),uint16LE:Q(2),uint32LE:Q(4),intBE:ye,int8BE:ye(1),int16BE:ye(2),int32BE:ye(4),intLE:ge,int8LE:ge(1),int16LE:ge(2),int32LE:ge(4),floatBE:A("floatBE",4).map(function(u){return u.readFloatBE(0)}),floatLE:A("floatLE",4).map(function(u){return u.readFloatLE(0)}),doubleBE:A("doubleBE",8).map(function(u){return u.readDoubleBE(0)}),doubleLE:A("doubleLE",8).map(function(u){return u.readDoubleLE(0)})},r.exports=a}])})})(Gn,Gn.exports);var d=Gn.exports,pa=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function nu(t){return t==null?t:t.shiftToAll().normalize()}function Xi(t){return t.includes("/")&&(t=t.substring(t.lastIndexOf("/")+1)),t.endsWith(".md")&&(t=t.substring(0,t.length-3)),t}d.alt(d.regex(new RegExp(pa(),"")),d.regex(/[0-9\p{Letter}_-]+/u).map(t=>t.toLocaleLowerCase()),d.whitespace.map(t=>"-"),d.any.map(t=>"")).many().map(t=>t.join(""));var $f=d.alt(d.regex(new RegExp(pa(),"")),d.regex(/[0-9\p{Letter}_-]+/u),d.whitespace.map(t=>" "),d.any.map(t=>" ")).many().map(t=>t.join("").split(/\s+/).join(" ").trim());function Uf(t){return $f.tryParse(t)}function Zf(t){return t=nu(t),t=I.fromObject(Object.fromEntries(Object.entries(t.toObject()).filter(([,e])=>e!=0))),t.toHuman()}var on;(function(t){function e(F,Z=ma,oe=!1){let N=r(F);if(!N)return Z.renderNullAs;switch(N.type){case"null":return Z.renderNullAs;case"string":return N.value;case"number":case"boolean":return""+N.value;case"html":return N.value.outerHTML;case"widget":return N.value.markdown();case"link":return N.value.markdown();case"function":return"<function>";case"array":let $="";return oe&&($+="["),$+=N.value.map(X=>e(X,Z,!0)).join(", "),oe&&($+="]"),$;case"object":return"{ "+Object.entries(N.value).map(X=>X[0]+": "+e(X[1],Z,!0)).join(", ")+" }";case"date":return N.value.second==0&&N.value.hour==0&&N.value.minute==0?N.value.toFormat(Z.defaultDateFormat):N.value.toFormat(Z.defaultDateTimeFormat);case"duration":return Zf(N.value)}}t.toString=e;function r(F){return v(F)?{type:"null",value:F}:c(F)?{type:"number",value:F}:l(F)?{type:"string",value:F}:A(F)?{type:"boolean",value:F}:x(F)?{type:"duration",value:F}:p(F)?{type:"date",value:F}:L(F)?{type:"widget",value:F}:b(F)?{type:"array",value:F}:j(F)?{type:"link",value:F}:ge(F)?{type:"function",value:F}:Q(F)?{type:"html",value:F}:ye(F)?{type:"object",value:F}:void 0}t.wrapValue=r;function n(F,Z){if(ye(F)){let oe={};for(let[N,$]of Object.entries(F))oe[N]=n($,Z);return oe}else if(b(F)){let oe=[];for(let N of F)oe.push(n(N,Z));return oe}else return Z(F)}t.mapLeaves=n;function s(F,Z,oe){if(F===void 0&&(F=null),Z===void 0&&(Z=null),F===null&&Z===null)return 0;if(F===null)return-1;if(Z===null)return 1;let N=r(F),$=r(Z);if(N===void 0&&$===void 0)return 0;if(N===void 0)return-1;if($===void 0)return 1;if(N.type!=$.type)return N.type.localeCompare($.type);if(N.value===$.value)return 0;switch(N.type){case"string":return N.value.localeCompare($.value);case"number":return N.value<$.value?-1:N.value==$.value?0:1;case"null":return 0;case"boolean":return N.value==$.value?0:N.value?1:-1;case"link":let X=N.value,Ie=$.value,Ir=oe??(Le=>Le),nt=Ir(X.path).localeCompare(Ir(Ie.path));if(nt!=0)return nt;let Ct=X.type.localeCompare(Ie.type);return Ct!=0?Ct:X.subpath&&!Ie.subpath?1:!X.subpath&&Ie.subpath?-1:!X.subpath&&!Ie.subpath?0:(X.subpath??"").localeCompare(Ie.subpath??"");case"date":return N.value<$.value?-1:N.value.equals($.value)?0:1;case"duration":return N.value<$.value?-1:N.value.equals($.value)?0:1;case"array":let Ge=N.value,Me=$.value;for(let Le=0;Le<Math.min(Ge.length,Me.length);Le++){let ht=s(Ge[Le],Me[Le]);if(ht!=0)return ht}return Ge.length-Me.length;case"object":let pt=N.value,mn=$.value,Mr=Array.from(Object.keys(pt)),Be=Array.from(Object.keys(mn));Mr.sort(),Be.sort();let pn=s(Mr,Be);if(pn!=0)return pn;for(let Le of Mr){let ht=s(pt[Le],mn[Le]);if(ht!=0)return ht}return 0;case"widget":case"html":case"function":return 0}}t.compareValue=s;function a(F){return r(F)?.type}t.typeOf=a;function i(F){let Z=r(F);if(!Z)return!1;switch(Z.type){case"number":return Z.value!=0;case"string":return Z.value.length>0;case"boolean":return Z.value;case"link":return!!Z.value.path;case"date":return Z.value.toMillis()!=0;case"duration":return Z.value.as("seconds")!=0;case"object":return Object.keys(Z.value).length>0;case"array":return Z.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}t.isTruthy=i;function o(F){if(F==null)return F;if(t.isArray(F))return[].concat(F.map(Z=>o(Z)));if(t.isObject(F)){let Z={};for(let[oe,N]of Object.entries(F))Z[oe]=o(N);return Z}else return F}t.deepCopy=o;function l(F){return typeof F=="string"}t.isString=l;function c(F){return typeof F=="number"}t.isNumber=c;function p(F){return F instanceof q}t.isDate=p;function x(F){return F instanceof I}t.isDuration=x;function v(F){return F==null}t.isNull=v;function b(F){return Array.isArray(F)}t.isArray=b;function A(F){return typeof F=="boolean"}t.isBoolean=A;function j(F){return F instanceof Jn}t.isLink=j;function L(F){return F instanceof un}t.isWidget=L;function Q(F){return typeof HTMLElement<"u"?F instanceof HTMLElement:!1}t.isHtml=Q;function ye(F){return typeof F=="object"&&!Q(F)&&!L(F)&&!b(F)&&!x(F)&&!p(F)&&!j(F)&&F!==void 0&&!v(F)}t.isObject=ye;function ge(F){return typeof F=="function"}t.isFunction=ge})(on||(on={}));var eo;(function(t){function e(s){return on.isObject(s)&&Object.keys(s).length==2&&"key"in s&&"rows"in s}t.isElementGroup=e;function r(s){for(let a of s)if(!e(a))return!1;return!0}t.isGrouping=r;function n(s){if(r(s)){let a=0;for(let i of s)a+=n(i.rows);return a}else return s.length}t.count=n})(eo||(eo={}));var Jn=class t{path;display;subpath;embed;type;static file(e,r=!1,n){return new t({path:e,embed:r,display:n,subpath:void 0,type:"file"})}static infer(e,r=!1,n){if(e.includes("#^")){let s=e.split("#^");return t.block(s[0],s[1],r,n)}else if(e.includes("#")){let s=e.split("#");return t.header(s[0],s[1],r,n)}else return t.file(e,r,n)}static header(e,r,n,s){return new t({path:e,embed:n,display:s,subpath:Uf(r),type:"header"})}static block(e,r,n,s){return new t({path:e,embed:n,display:s,subpath:r,type:"block"})}static fromObject(e){return new t(e)}constructor(e){Object.assign(this,e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new t(Object.assign({},this,{path:e}))}withDisplay(e){return new t(Object.assign({},this,{display:e}))}withHeader(e){return t.header(this.path,e,this.embed,this.display)}toFile(){return t.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new t(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new t(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+Xi(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){let e=this.path.replaceAll("|","\\|");return this.type=="header"?e+"#"+this.subpath?.replaceAll("|","\\|"):this.type=="block"?e+"#^"+this.subpath?.replaceAll("|","\\|"):e}fileName(){return Xi(this.path).replace(".md","")}},un=class{$widget;constructor(e){this.$widget=e}},ra=class extends un{key;value;constructor(e,r){super("dataview:list-pair"),this.key=e,this.value=r}markdown(){return`${on.toString(this.key)}: ${on.toString(this.value)}`}},na=class extends un{url;display;constructor(e,r){super("dataview:external-link"),this.url=e,this.display=r}markdown(){return`[${this.display??this.url}](${this.url})`}},to;(function(t){function e(i,o){return new ra(i,o)}t.listPair=e;function r(i,o){return new na(i,o)}t.externalLink=r;function n(i){return i.$widget==="dataview:list-pair"}t.isListPair=n;function s(i){return i.$widget==="dataview:external-link"}t.isExternalLink=s;function a(i){return n(i)||s(i)}t.isBuiltin=a})(to||(to={}));var se;(function(t){function e(v){return{type:"variable",name:v}}t.variable=e;function r(v){return{type:"literal",value:v}}t.literal=r;function n(v,b,A){return{type:"binaryop",left:v,op:b,right:A}}t.binaryOp=n;function s(v,b){return{type:"index",object:v,index:b}}t.index=s;function a(v){let b=v.split("."),A=t.variable(b[0]);for(let j=1;j<b.length;j++)A=t.index(A,t.literal(b[j]));return A}t.indexVariable=a;function i(v,b){return{type:"lambda",arguments:v,value:b}}t.lambda=i;function o(v,b){return{type:"function",func:v,arguments:b}}t.func=o;function l(v){return{type:"list",values:v}}t.list=l;function c(v){return{type:"object",values:v}}t.object=c;function p(v){return{type:"negated",child:v}}t.negate=p;function x(v){return v=="<="||v=="<"||v==">"||v==">="||v=="!="||v=="="}t.isCompareOp=x,t.NULL=t.literal(null)})(se||(se={}));var tt;(function(t){function e(p){return{type:"tag",tag:p}}t.tag=e;function r(p){return{type:"csv",path:p}}t.csv=r;function n(p){return{type:"folder",folder:p}}t.folder=n;function s(p,x){return{type:"link",file:p,direction:x?"incoming":"outgoing"}}t.link=s;function a(p,x,v){return{type:"binaryop",left:p,op:x,right:v}}t.binaryOp=a;function i(p,x){return{type:"binaryop",left:p,op:"&",right:x}}t.and=i;function o(p,x){return{type:"binaryop",left:p,op:"|",right:x}}t.or=o;function l(p){return{type:"negate",child:p}}t.negate=l;function c(){return{type:"empty"}}t.empty=c})(tt||(tt={}));var ro=new RegExp(pa(),""),sa={year:I.fromObject({years:1}),years:I.fromObject({years:1}),yr:I.fromObject({years:1}),yrs:I.fromObject({years:1}),month:I.fromObject({months:1}),months:I.fromObject({months:1}),mo:I.fromObject({months:1}),mos:I.fromObject({months:1}),week:I.fromObject({weeks:1}),weeks:I.fromObject({weeks:1}),wk:I.fromObject({weeks:1}),wks:I.fromObject({weeks:1}),w:I.fromObject({weeks:1}),day:I.fromObject({days:1}),days:I.fromObject({days:1}),d:I.fromObject({days:1}),hour:I.fromObject({hours:1}),hours:I.fromObject({hours:1}),hr:I.fromObject({hours:1}),hrs:I.fromObject({hours:1}),h:I.fromObject({hours:1}),minute:I.fromObject({minutes:1}),minutes:I.fromObject({minutes:1}),min:I.fromObject({minutes:1}),mins:I.fromObject({minutes:1}),m:I.fromObject({minutes:1}),second:I.fromObject({seconds:1}),seconds:I.fromObject({seconds:1}),sec:I.fromObject({seconds:1}),secs:I.fromObject({seconds:1}),s:I.fromObject({seconds:1})},aa={now:()=>q.local(),today:()=>q.local().startOf("day"),yesterday:()=>q.local().startOf("day").minus(I.fromObject({days:1})),tomorrow:()=>q.local().startOf("day").plus(I.fromObject({days:1})),sow:()=>q.local().startOf("week"),"start-of-week":()=>q.local().startOf("week"),eow:()=>q.local().endOf("week"),"end-of-week":()=>q.local().endOf("week"),soy:()=>q.local().startOf("year"),"start-of-year":()=>q.local().startOf("year"),eoy:()=>q.local().endOf("year"),"end-of-year":()=>q.local().endOf("year"),som:()=>q.local().startOf("month"),"start-of-month":()=>q.local().startOf("month"),eom:()=>q.local().endOf("month"),"end-of-month":()=>q.local().endOf("month")},ia=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function Wf(t){let e=-1;for(;(e=t.indexOf("|",e+1))>=0;)if(!(e>0&&t[e-1]=="\\"))return[t.substring(0,e).replace(/\\\|/g,"|"),t.substring(e+1)];return[t.replace(/\\\|/g,"|"),void 0]}function qf(t){let[e,r]=Wf(t);return Jn.infer(e,!1,r)}function rn(t,e,r){return d.seqMap(t,d.seq(d.optWhitespace,e,d.optWhitespace,t).many(),(n,s)=>{if(s.length==0)return n;let a=r(n,s[0][1],s[0][3]);for(let i=1;i<s.length;i++)a=r(a,s[i][1],s[i][3]);return a})}function Yf(t,...e){return d.custom((r,n)=>(s,a)=>{let i=t._(s,a);if(!i.status)return i;for(let o of e){let l=o(i.value)._(s,i.index);if(!l.status)return i;i=l}return i})}var We=d.createLanguage({number:t=>d.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:t=>d.string('"').then(d.alt(t.escapeCharacter,d.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(d.string('"')).desc("string"),escapeCharacter:t=>d.string("\\").then(d.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:t=>d.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:t=>d.seqMap(d.string("#"),d.alt(d.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,r)=>e+r.join("")).desc("tag ('#hello/stuff')"),identifier:t=>d.seqMap(d.alt(d.regexp(/\p{Letter}/u),d.regexp(ro).desc("text")),d.alt(d.regexp(/[0-9\p{Letter}_-]/u),d.regexp(ro).desc("text")).many(),(e,r)=>e+r.join("")).desc("variable identifier"),link:t=>d.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>qf(e)).desc("file link"),embedLink:t=>d.seqMap(d.string("!").atMost(1),t.link,(e,r)=>(e.length>0&&(r.embed=!0),r)).desc("file link"),binaryPlusMinus:t=>d.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:t=>d.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:t=>d.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:t=>d.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:t=>d.seqMap(d.regexp(/\d{4}/),d.string("-"),d.regexp(/\d{2}/),(e,r,n)=>q.fromObject({year:Number.parseInt(e),month:Number.parseInt(n)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:t=>d.alt(...Object.keys(aa).sort((e,r)=>r.length-e.length).map(d.string)),date:t=>Yf(t.rootDate,e=>d.seqMap(d.string("-"),d.regexp(/\d{2}/),(r,n)=>e.set({day:Number.parseInt(n)})),e=>d.seqMap(d.string("T"),d.regexp(/\d{2}/),(r,n)=>e.set({hour:Number.parseInt(n)})),e=>d.seqMap(d.string(":"),d.regexp(/\d{2}/),(r,n)=>e.set({minute:Number.parseInt(n)})),e=>d.seqMap(d.string(":"),d.regexp(/\d{2}/),(r,n)=>e.set({second:Number.parseInt(n)})),e=>d.alt(d.seqMap(d.string("."),d.regexp(/\d{3}/),(r,n)=>e.set({millisecond:Number.parseInt(n)})),d.succeed(e)),e=>d.alt(d.seqMap(d.string("+").or(d.string("-")),d.regexp(/\d{1,2}(:\d{2})?/),(r,n)=>e.setZone("UTC"+r+n,{keepLocalTime:!0})),d.seqMap(d.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),d.seqMap(d.string("["),d.regexp(/[0-9A-Za-z+-\/]+/u),d.string("]"),(r,n,s)=>e.setZone(n,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:t=>d.alt(t.dateShorthand.map(e=>aa[e]()),t.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:t=>d.alt(...Object.keys(sa).sort((e,r)=>r.length-e.length).map(d.string)),duration:t=>d.seqMap(t.number,d.optWhitespace,t.durationType,(e,r,n)=>sa[n].mapUnits(s=>s*e)).sepBy1(d.string(",").trim(d.optWhitespace).or(d.optWhitespace)).map(e=>e.reduce((r,n)=>r.plus(n))).desc("duration like 4hr2min"),rawNull:t=>d.string("null"),tagSource:t=>t.tag.map(e=>tt.tag(e)),csvSource:t=>d.seqMap(d.string("csv(").skip(d.optWhitespace),t.string,d.string(")"),(e,r,n)=>tt.csv(r)),linkIncomingSource:t=>t.link.map(e=>tt.link(e.path,!0)),linkOutgoingSource:t=>d.seqMap(d.string("outgoing(").skip(d.optWhitespace),t.link,d.string(")"),(e,r,n)=>tt.link(r.path,!1)),folderSource:t=>t.string.map(e=>tt.folder(e)),parensSource:t=>d.seqMap(d.string("("),d.optWhitespace,t.source,d.optWhitespace,d.string(")"),(e,r,n,s,a)=>n),negateSource:t=>d.seqMap(d.alt(d.string("-"),d.string("!")),t.atomSource,(e,r)=>tt.negate(r)),atomSource:t=>d.alt(t.parensSource,t.negateSource,t.linkOutgoingSource,t.linkIncomingSource,t.folderSource,t.tagSource,t.csvSource),binaryOpSource:t=>rn(t.atomSource,t.binaryBooleanOp.map(e=>e),tt.binaryOp),source:t=>t.binaryOpSource,variableField:t=>t.identifier.chain(e=>ia.includes(e.toUpperCase())?d.fail("Variable fields cannot be a keyword ("+ia.join(" or ")+")"):d.succeed(se.variable(e))).desc("variable"),numberField:t=>t.number.map(e=>se.literal(e)).desc("number"),stringField:t=>t.string.map(e=>se.literal(e)).desc("string"),boolField:t=>t.bool.map(e=>se.literal(e)).desc("boolean"),dateField:t=>d.seqMap(d.string("date("),d.optWhitespace,t.datePlus,d.optWhitespace,d.string(")"),(e,r,n,s,a)=>se.literal(n)).desc("date"),durationField:t=>d.seqMap(d.string("dur("),d.optWhitespace,t.duration,d.optWhitespace,d.string(")"),(e,r,n,s,a)=>se.literal(n)).desc("duration"),nullField:t=>t.rawNull.map(e=>se.NULL),linkField:t=>t.link.map(e=>se.literal(e)),listField:t=>t.field.sepBy(d.string(",").trim(d.optWhitespace)).wrap(d.string("[").skip(d.optWhitespace),d.optWhitespace.then(d.string("]"))).map(e=>se.list(e)).desc("list ('[1, 2, 3]')"),objectField:t=>d.seqMap(t.identifier.or(t.string),d.string(":").trim(d.optWhitespace),t.field,(e,r,n)=>({name:e,value:n})).sepBy(d.string(",").trim(d.optWhitespace)).wrap(d.string("{").skip(d.optWhitespace),d.optWhitespace.then(d.string("}"))).map(e=>{let r={};for(let n of e)r[n.name]=n.value;return se.object(r)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:t=>d.alt(t.date,t.duration.map(e=>nu(e)),t.string,t.tag,t.embedLink,t.bool,t.number,t.rawNull),inlineFieldList:t=>t.atomInlineField.sepBy(d.string(",").trim(d.optWhitespace).lookahead(t.atomInlineField)),inlineField:t=>d.alt(d.seqMap(t.atomInlineField,d.string(",").trim(d.optWhitespace),t.inlineFieldList,(e,r,n)=>[e].concat(n)),t.atomInlineField),atomField:t=>d.alt(t.embedLink.map(e=>se.literal(e)),t.negatedField,t.linkField,t.listField,t.objectField,t.lambdaField,t.parensField,t.boolField,t.numberField,t.stringField,t.dateField,t.durationField,t.nullField,t.variableField),indexField:t=>d.seqMap(t.atomField,d.alt(t.dotPostfix,t.indexPostfix,t.functionPostfix).many(),(e,r)=>{let n=e;for(let s of r)switch(s.type){case"dot":n=se.index(n,se.literal(s.field));break;case"index":n=se.index(n,s.field);break;case"function":n=se.func(n,s.fields);break}return n}),negatedField:t=>d.seqMap(d.string("!"),t.indexField,(e,r)=>se.negate(r)).desc("negated field"),parensField:t=>d.seqMap(d.string("("),d.optWhitespace,t.field,d.optWhitespace,d.string(")"),(e,r,n,s,a)=>n),lambdaField:t=>d.seqMap(t.identifier.sepBy(d.string(",").trim(d.optWhitespace)).wrap(d.string("(").trim(d.optWhitespace),d.string(")").trim(d.optWhitespace)),d.string("=>").trim(d.optWhitespace),t.field,(e,r,n)=>({type:"lambda",arguments:e,value:n})),dotPostfix:t=>d.seqMap(d.string("."),t.identifier,(e,r)=>({type:"dot",field:r})),indexPostfix:t=>d.seqMap(d.string("["),d.optWhitespace,t.field,d.optWhitespace,d.string("]"),(e,r,n,s,a)=>({type:"index",field:n})),functionPostfix:t=>d.seqMap(d.string("("),d.optWhitespace,t.field.sepBy(d.string(",").trim(d.optWhitespace)),d.optWhitespace,d.string(")"),(e,r,n,s,a)=>({type:"function",fields:n})),binaryMulDivField:t=>rn(t.indexField,t.binaryMulDiv,se.binaryOp),binaryPlusMinusField:t=>rn(t.binaryMulDivField,t.binaryPlusMinus,se.binaryOp),binaryCompareField:t=>rn(t.binaryPlusMinusField,t.binaryCompareOp,se.binaryOp),binaryBooleanField:t=>rn(t.binaryCompareField,t.binaryBooleanOp,se.binaryOp),binaryOpField:t=>t.binaryBooleanField,field:t=>t.binaryOpField});function Gf(t){try{return Yn.success(We.field.tryParse(t))}catch(e){return Yn.failure(""+e)}}var Qn;(function(t){function e(n,s){return{name:n,field:s}}t.named=e;function r(n,s){return{field:n,direction:s}}t.sortBy=r})(Qn||(Qn={}));function Jf(t){return d.custom((e,r)=>(n,s)=>{let a=t._(n,s);return a.status?Object.assign({},a,{value:[a.value,n.substring(s,a.index)]}):a})}function Qf(t){return t.split(/[\r\n]+/).map(e=>e.trim()).join("")}function no(t,e){return d.eof.map(t).or(d.whitespace.then(e))}var su=d.createLanguage({queryType:t=>d.alt(d.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:t=>d.seqMap(We.field.skip(d.whitespace),d.regexp(/AS/i).skip(d.whitespace),We.identifier.or(We.string),(e,r,n)=>Qn.named(n,e)),comment:()=>d.Parser((t,e)=>{let r=t.substring(e);if(!r.startsWith("//"))return d.makeFailure(e,"Not a comment");r=r.split(`
`)[0];let n=r.substring(2).trim();return d.makeSuccess(e+r.length,n)}),namedField:t=>d.alt(t.explicitNamedField,Jf(We.field).map(([e,r])=>Qn.named(Qf(r),e))),sortField:t=>d.seqMap(We.field.skip(d.optWhitespace),d.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,r)=>{let n=r.length==0?"ascending":r[0].toLowerCase();return n=="desc"&&(n="descending"),n=="asc"&&(n="ascending"),{field:e,direction:n}}),headerClause:t=>t.queryType.chain(e=>{switch(e){case"table":return no(()=>({type:e,fields:[],showId:!0}),d.seqMap(d.regexp(/WITHOUT\s+ID/i).skip(d.optWhitespace).atMost(1),d.sepBy(t.namedField,d.string(",").trim(d.optWhitespace)),(r,n)=>({type:e,fields:n,showId:r.length==0})));case"list":return no(()=>({type:e,format:void 0,showId:!0}),d.seqMap(d.regexp(/WITHOUT\s+ID/i).skip(d.optWhitespace).atMost(1),We.field.atMost(1),(r,n)=>({type:e,format:n.length==1?n[0]:void 0,showId:r.length==0})));case"task":return d.succeed({type:e});case"calendar":return d.whitespace.then(d.seqMap(t.namedField,r=>({type:e,showId:!0,field:r})));default:return d.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:t=>d.seqMap(d.regexp(/FROM/i),d.whitespace,We.source,(e,r,n)=>n),whereClause:t=>d.seqMap(d.regexp(/WHERE/i),d.whitespace,We.field,(e,r,n)=>({type:"where",clause:n})).desc("WHERE <expression>"),sortByClause:t=>d.seqMap(d.regexp(/SORT/i),d.whitespace,t.sortField.sepBy1(d.string(",").trim(d.optWhitespace)),(e,r,n)=>({type:"sort",fields:n})).desc("SORT field [ASC/DESC]"),limitClause:t=>d.seqMap(d.regexp(/LIMIT/i),d.whitespace,We.field,(e,r,n)=>({type:"limit",amount:n})).desc("LIMIT <value>"),flattenClause:t=>d.seqMap(d.regexp(/FLATTEN/i).skip(d.whitespace),t.namedField,(e,r)=>({type:"flatten",field:r})).desc("FLATTEN <value> [AS <name>]"),groupByClause:t=>d.seqMap(d.regexp(/GROUP BY/i).skip(d.whitespace),t.namedField,(e,r)=>({type:"group",field:r})).desc("GROUP BY <value> [AS <name>]"),clause:t=>d.alt(t.fromClause,t.whereClause,t.sortByClause,t.limitClause,t.groupByClause,t.flattenClause),query:t=>d.seqMap(t.headerClause.trim(Hs),t.fromClause.trim(Hs).atMost(1),t.clause.trim(Hs).many(),(e,r,n)=>({header:e,source:r.length==0?tt.folder(""):r[0],operations:n,settings:ma}))}),Hs=d.alt(d.whitespace,su.comment).many().map(t=>t.join("")),Kf=t=>t?t.plugins.plugins.dataview?.api:window.DataviewAPI,Xf=t=>t.plugins.enabledPlugins.has("dataview");rt.DATE_SHORTHANDS=aa;rt.DURATION_TYPES=sa;rt.EXPRESSION=We;rt.KEYWORDS=ia;rt.QUERY_LANGUAGE=su;rt.getAPI=Kf;rt.isPluginEnabled=Xf;rt.parseField=Gf});var Fp={};Na(Fp,{default:()=>us});module.exports=ol(Fp);var Rr=require("obsidian");var Aa="actions-uri",S={append_done:"Note was appended",command_not_found:t=>`Unknown command ${t}`,daily_note:{create_note_already_exists:"Daily note already exists",create_note_no_content:"Daily note couldn't be overwritten, no content specified",feature_not_available:"Daily Notes feature is not active"},dataview_dql_must_start_with_list:'DQL must start with "LIST"',dataview_dql_must_start_with_table:'DQL must start with "TABLE"',dataview_plugin_not_available:"Dataview plugin is not active",delete_done:"Successfully deleted",faulty_apply_parameter:"Unexpected 'apply' parameter",faulty_note_targeting:"Either 'file', 'uid', or 'periodic-note' must be provided",file_not_found:"File couldn't be found",file_opened:"File opened",folder_created:"Folder created",global_search_feature_not_available:"Global Search plugin is not active",headline_not_found:"Headline not found",monthly_note:{create_note_already_exists:"Monthly note already exists",create_note_no_content:"Monthly note couldn't be overwritten, no content specified",feature_not_available:"Periodic Notes' Monthly feature is not active"},not_available_on_mobile:"This action is not available on mobile",not_found:"Not found",note_not_found:"Note couldn't be found",note_opened:"Note opened",omnisearch_plugin_not_available:"Omnisearch plugin is not active",prepend_done:"Note was prepended",properties:{unable_to_update:"Unable to update properties",key_not_found:"Key not found"},quarterly_note:{create_note_already_exists:"Quarterly note already exists",create_note_no_content:"Quarterly note couldn't be overwritten, no content specified",feature_not_available:"Periodic Notes' Quarterly feature is not active"},rename_done:"Note was renamed/moved",replacement_done:"Replacement done, note updated",search_pattern_empty:"Search pattern is empty",search_pattern_invalid:"Search pattern must start with a forward slash",search_pattern_not_found:"Search pattern wasn't found, nothing replaced",search_pattern_unparseable:"Search pattern is not correctly formed",search_string_not_found:"Search string wasn't found, nothing replaced",template_not_found:"Template not found",templater:{feature_not_available:"Templater plugin is not active"},templates:{feature_not_available:"Templates core plugin is not active"},touch_done:"Successfully touched",trash_done:"Successfully moved to trash",unable_to_read_note:"Can't read note file",unable_to_write_note:"Can't write note file",vault_internals_not_found:"Vault didn't return config info",weekly_note:{create_note_already_exists:"Weekly note already exists",create_note_no_content:"Weekly note couldn't be overwritten, no content specified",feature_not_available:"Periodic Notes' Weekly feature is not active"},yearly_note:{create_note_already_exists:"Yearly note already exists",create_note_no_content:"Yearly note couldn't be overwritten, no content specified",feature_not_available:"Periodic Notes' Yearly feature is not active"}},Ra="result";var D={};Na(D,{BRAND:()=>Al,DIRTY:()=>Nt,EMPTY_PATH:()=>dl,INVALID:()=>M,NEVER:()=>yc,OK:()=>pe,ParseStatus:()=>fe,Schema:()=>W,ZodAny:()=>gt,ZodArray:()=>ct,ZodBigInt:()=>Ot,ZodBoolean:()=>At,ZodBranded:()=>Hr,ZodCatch:()=>Ut,ZodDate:()=>Rt,ZodDefault:()=>$t,ZodDiscriminatedUnion:()=>En,ZodEffects:()=>ke,ZodEnum:()=>zt,ZodError:()=>Fe,ZodFirstPartyTypeKind:()=>B,ZodFunction:()=>Pn,ZodIntersection:()=>Lt,ZodIssueCode:()=>g,ZodLazy:()=>jt,ZodLiteral:()=>Ht,ZodMap:()=>dr,ZodNaN:()=>mr,ZodNativeEnum:()=>Vt,ZodNever:()=>je,ZodNull:()=>Mt,ZodNullable:()=>Ke,ZodNumber:()=>kt,ZodObject:()=>we,ZodOptional:()=>Se,ZodParsedType:()=>T,ZodPipeline:()=>zr,ZodPromise:()=>Ft,ZodReadonly:()=>Zt,ZodRecord:()=>Cn,ZodSchema:()=>W,ZodSet:()=>fr,ZodString:()=>yt,ZodSymbol:()=>lr,ZodTransformer:()=>ke,ZodTuple:()=>Qe,ZodType:()=>W,ZodUndefined:()=>It,ZodUnion:()=>Bt,ZodUnknown:()=>lt,ZodVoid:()=>cr,addIssueToContext:()=>C,any:()=>Vl,array:()=>Wl,bigint:()=>Bl,boolean:()=>Za,coerce:()=>Dc,custom:()=>Va,date:()=>Ll,datetimeRegex:()=>Ha,defaultErrorMap:()=>ot,discriminatedUnion:()=>Jl,effect:()=>uc,enum:()=>ac,function:()=>rc,getErrorMap:()=>ir,getParsedType:()=>Je,instanceof:()=>Il,intersection:()=>Ql,isAborted:()=>xn,isAsync:()=>or,isDirty:()=>_n,isValid:()=>Dt,late:()=>Rl,lazy:()=>nc,literal:()=>sc,makeIssue:()=>jr,map:()=>ec,nan:()=>Ml,nativeEnum:()=>ic,never:()=>Ul,null:()=>zl,nullable:()=>cc,number:()=>Ua,object:()=>ql,objectUtil:()=>fs,oboolean:()=>hc,onumber:()=>pc,optional:()=>lc,ostring:()=>mc,pipeline:()=>fc,preprocess:()=>dc,promise:()=>oc,quotelessJson:()=>ul,record:()=>Xl,set:()=>tc,setErrorMap:()=>cl,strictObject:()=>Yl,string:()=>$a,symbol:()=>jl,transformer:()=>uc,tuple:()=>Kl,undefined:()=>Hl,union:()=>Gl,unknown:()=>$l,util:()=>G,void:()=>Zl});var G;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{let a={};for(let i of s)a[i]=i;return a},t.getValidEnumValues=s=>{let a=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(let o of a)i[o]=s[o];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let a=[];for(let i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},t.find=(s,a)=>{for(let i of s)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(G||(G={}));var fs;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(fs||(fs={}));var T=G.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Je=t=>{switch(typeof t){case"undefined":return T.undefined;case"string":return T.string;case"number":return Number.isNaN(t)?T.nan:T.number;case"boolean":return T.boolean;case"function":return T.function;case"bigint":return T.bigint;case"symbol":return T.symbol;case"object":return Array.isArray(t)?T.array:t===null?T.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?T.promise:typeof Map<"u"&&t instanceof Map?T.map:typeof Set<"u"&&t instanceof Set?T.set:typeof Date<"u"&&t instanceof Date?T.date:T.object;default:return T.unknown}};var g=G.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ul=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Fe=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(let i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let o=n,l=0;for(;l<i.path.length;){let c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,G.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let s of this.issues)if(s.path.length>0){let a=s.path[0];r[a]=r[a]||[],r[a].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Fe.create=t=>new Fe(t);var ll=(t,e)=>{let r;switch(t.code){case g.invalid_type:t.received===T.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case g.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,G.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:r=`Unrecognized key(s) in object: ${G.joinValues(t.keys,", ")}`;break;case g.invalid_union:r="Invalid input";break;case g.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${G.joinValues(t.options)}`;break;case g.invalid_enum_value:r=`Invalid enum value. Expected ${G.joinValues(t.options)}, received '${t.received}'`;break;case g.invalid_arguments:r="Invalid function arguments";break;case g.invalid_return_type:r="Invalid function return type";break;case g.invalid_date:r="Invalid date";break;case g.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:G.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case g.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case g.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case g.custom:r="Invalid input";break;case g.invalid_intersection_types:r="Intersection results could not be merged";break;case g.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case g.not_finite:r="Number must be finite";break;default:r=e.defaultError,G.assertNever(t)}return{message:r}},ot=ll;var Ia=ot;function cl(t){Ia=t}function ir(){return Ia}var jr=t=>{let{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="",l=n.filter(c=>!!c).slice().reverse();for(let c of l)o=c(i,{data:e,defaultError:o}).message;return{...s,path:a,message:o}},dl=[];function C(t,e){let r=ir(),n=jr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ot?void 0:ot].filter(s=>!!s)});t.common.issues.push(n)}var fe=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let s of r){if(s.status==="aborted")return M;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let s of r){let a=await s.key,i=await s.value;n.push({key:a,value:i})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let s of r){let{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return M;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:e.value,value:n}}},M=Object.freeze({status:"aborted"}),Nt=t=>({status:"dirty",value:t}),pe=t=>({status:"valid",value:t}),xn=t=>t.status==="aborted",_n=t=>t.status==="dirty",Dt=t=>t.status==="valid",or=t=>typeof Promise<"u"&&t instanceof Promise;var k;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(k||(k={}));var Ne=class{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Ma=(t,e)=>{if(Dt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Fe(t.common.issues);return this._error=r,this._error}}};function U(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,o)=>{let{message:l}=t;return i.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:s}}var W=class{get description(){return this._def.description}_getType(e){return Je(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Je(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new fe,ctx:{common:e.parent.common,data:e.data,parsedType:Je(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(or(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Je(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Ma(n,s)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Je(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:r});return Dt(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Dt(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Je(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(or(s)?s:Promise.resolve(s));return Ma(n,a)}refine(e,r){let n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{let i=e(s),o=()=>a.addIssue({code:g.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new ke({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Se.create(this,this._def)}nullable(){return Ke.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ct.create(this)}promise(){return Ft.create(this,this._def)}or(e){return Bt.create([this,e],this._def)}and(e){return Lt.create(this,e,this._def)}transform(e){return new ke({...U(this._def),schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new $t({...U(this._def),innerType:this,defaultValue:r,typeName:B.ZodDefault})}brand(){return new Hr({typeName:B.ZodBranded,type:this,...U(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ut({...U(this._def),innerType:this,catchValue:r,typeName:B.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return zr.create(this,e)}readonly(){return Zt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},fl=/^c[^\s-]{8,}$/i,ml=/^[0-9a-z]+$/,pl=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Dl=/^[a-z0-9_-]{21}$/i,yl=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gl=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Fl=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wl="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",ms,vl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,xl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_l=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,El=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Cl=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,La="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pl=new RegExp(`^${La}$`);function ja(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Tl(t){return new RegExp(`^${ja(t)}$`)}function Ha(t){let e=`${La}T${ja(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Sl(t,e){return!!((e==="v4"||!e)&&vl.test(t)||(e==="v6"||!e)&&xl.test(t))}function Nl(t,e){if(!yl.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function kl(t,e){return!!((e==="v4"||!e)&&bl.test(t)||(e==="v6"||!e)&&_l.test(t))}var yt=class t extends W{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==T.string){let a=this._getOrReturnCtx(e);return C(a,{code:g.invalid_type,expected:T.string,received:a.parsedType}),M}let n=new fe,s;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),C(s,{code:g.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),C(s,{code:g.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(e,s),i?C(s,{code:g.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&C(s,{code:g.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Fl.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"email",code:g.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")ms||(ms=new RegExp(wl,"u")),ms.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"emoji",code:g.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")hl.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"uuid",code:g.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")Dl.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"nanoid",code:g.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")fl.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"cuid",code:g.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")ml.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"cuid2",code:g.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")pl.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"ulid",code:g.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),C(s,{validation:"url",code:g.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"regex",code:g.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),C(s,{code:g.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),C(s,{code:g.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),C(s,{code:g.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Ha(a).test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{code:g.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Pl.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{code:g.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Tl(a).test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{code:g.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?gl.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"duration",code:g.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Sl(e.data,a.version)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"ip",code:g.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Nl(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"jwt",code:g.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?kl(e.data,a.version)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"cidr",code:g.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?El.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"base64",code:g.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Cl.test(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{validation:"base64url",code:g.invalid_string,message:a.message}),n.dirty()):G.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:g.invalid_string,...k.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...k.errToObj(e)})}url(e){return this._addCheck({kind:"url",...k.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...k.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...k.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...k.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...k.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...k.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...k.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...k.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...k.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...k.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...k.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...k.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...k.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...k.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...k.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...k.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...k.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...k.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...k.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...k.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...k.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...k.errToObj(r)})}nonempty(e){return this.min(1,k.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};yt.create=t=>new yt({checks:[],typeName:B.ZodString,coerce:t?.coerce??!1,...U(t)});function Ol(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(t.toFixed(s).replace(".","")),i=Number.parseInt(e.toFixed(s).replace(".",""));return a%i/10**s}var kt=class t extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==T.number){let a=this._getOrReturnCtx(e);return C(a,{code:g.invalid_type,expected:T.number,received:a.parsedType}),M}let n,s=new fe;for(let a of this._def.checks)a.kind==="int"?G.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:g.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:g.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:g.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Ol(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),C(n,{code:g.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:g.not_finite,message:a.message}),s.dirty()):G.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,k.toString(r))}gt(e,r){return this.setLimit("min",e,!1,k.toString(r))}lte(e,r){return this.setLimit("max",e,!0,k.toString(r))}lt(e,r){return this.setLimit("max",e,!1,k.toString(r))}setLimit(e,r,n,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:k.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:k.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:k.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&G.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};kt.create=t=>new kt({checks:[],typeName:B.ZodNumber,coerce:t?.coerce||!1,...U(t)});var Ot=class t extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==T.bigint)return this._getInvalidInput(e);let n,s=new fe;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:g.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:g.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),C(n,{code:g.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):G.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return C(r,{code:g.invalid_type,expected:T.bigint,received:r.parsedType}),M}gte(e,r){return this.setLimit("min",e,!0,k.toString(r))}gt(e,r){return this.setLimit("min",e,!1,k.toString(r))}lte(e,r){return this.setLimit("max",e,!0,k.toString(r))}lt(e,r){return this.setLimit("max",e,!1,k.toString(r))}setLimit(e,r,n,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:k.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ot.create=t=>new Ot({checks:[],typeName:B.ZodBigInt,coerce:t?.coerce??!1,...U(t)});var At=class extends W{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==T.boolean){let n=this._getOrReturnCtx(e);return C(n,{code:g.invalid_type,expected:T.boolean,received:n.parsedType}),M}return pe(e.data)}};At.create=t=>new At({typeName:B.ZodBoolean,coerce:t?.coerce||!1,...U(t)});var Rt=class t extends W{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==T.date){let a=this._getOrReturnCtx(e);return C(a,{code:g.invalid_type,expected:T.date,received:a.parsedType}),M}if(Number.isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return C(a,{code:g.invalid_date}),M}let n=new fe,s;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),C(s,{code:g.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),C(s,{code:g.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):G.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:k.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:k.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Rt.create=t=>new Rt({checks:[],coerce:t?.coerce||!1,typeName:B.ZodDate,...U(t)});var lr=class extends W{_parse(e){if(this._getType(e)!==T.symbol){let n=this._getOrReturnCtx(e);return C(n,{code:g.invalid_type,expected:T.symbol,received:n.parsedType}),M}return pe(e.data)}};lr.create=t=>new lr({typeName:B.ZodSymbol,...U(t)});var It=class extends W{_parse(e){if(this._getType(e)!==T.undefined){let n=this._getOrReturnCtx(e);return C(n,{code:g.invalid_type,expected:T.undefined,received:n.parsedType}),M}return pe(e.data)}};It.create=t=>new It({typeName:B.ZodUndefined,...U(t)});var Mt=class extends W{_parse(e){if(this._getType(e)!==T.null){let n=this._getOrReturnCtx(e);return C(n,{code:g.invalid_type,expected:T.null,received:n.parsedType}),M}return pe(e.data)}};Mt.create=t=>new Mt({typeName:B.ZodNull,...U(t)});var gt=class extends W{constructor(){super(...arguments),this._any=!0}_parse(e){return pe(e.data)}};gt.create=t=>new gt({typeName:B.ZodAny,...U(t)});var lt=class extends W{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pe(e.data)}};lt.create=t=>new lt({typeName:B.ZodUnknown,...U(t)});var je=class extends W{_parse(e){let r=this._getOrReturnCtx(e);return C(r,{code:g.invalid_type,expected:T.never,received:r.parsedType}),M}};je.create=t=>new je({typeName:B.ZodNever,...U(t)});var cr=class extends W{_parse(e){if(this._getType(e)!==T.undefined){let n=this._getOrReturnCtx(e);return C(n,{code:g.invalid_type,expected:T.void,received:n.parsedType}),M}return pe(e.data)}};cr.create=t=>new cr({typeName:B.ZodVoid,...U(t)});var ct=class t extends W{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==T.array)return C(r,{code:g.invalid_type,expected:T.array,received:r.parsedType}),M;if(s.exactLength!==null){let i=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(i||o)&&(C(r,{code:i?g.too_big:g.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(C(r,{code:g.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(C(r,{code:g.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>s.type._parseAsync(new Ne(r,i,r.path,o)))).then(i=>fe.mergeArray(n,i));let a=[...r.data].map((i,o)=>s.type._parseSync(new Ne(r,i,r.path,o)));return fe.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:k.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:k.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:k.toString(r)}})}nonempty(e){return this.min(1,e)}};ct.create=(t,e)=>new ct({type:t,minLength:null,maxLength:null,exactLength:null,typeName:B.ZodArray,...U(e)});function ur(t){if(t instanceof we){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Se.create(ur(n))}return new we({...t._def,shape:()=>e})}else return t instanceof ct?new ct({...t._def,type:ur(t.element)}):t instanceof Se?Se.create(ur(t.unwrap())):t instanceof Ke?Ke.create(ur(t.unwrap())):t instanceof Qe?Qe.create(t.items.map(e=>ur(e))):t}var we=class t extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=G.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==T.object){let c=this._getOrReturnCtx(e);return C(c,{code:g.invalid_type,expected:T.object,received:c.parsedType}),M}let{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof je&&this._def.unknownKeys==="strip"))for(let c in s.data)i.includes(c)||o.push(c);let l=[];for(let c of i){let p=a[c],x=s.data[c];l.push({key:{status:"valid",value:c},value:p._parse(new Ne(s,x,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof je){let c=this._def.unknownKeys;if(c==="passthrough")for(let p of o)l.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(c==="strict")o.length>0&&(C(s,{code:g.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let p of o){let x=s.data[p];l.push({key:{status:"valid",value:p},value:c._parse(new Ne(s,x,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let p of l){let x=await p.key,v=await p.value;c.push({key:x,value:v,alwaysSet:p.alwaysSet})}return c}).then(c=>fe.mergeObjectSync(n,c)):fe.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return k.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{let s=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:k.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:B.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let n of G.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let n of G.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new t({...this._def,shape:()=>r})}deepPartial(){return ur(this)}partial(e){let r={};for(let n of G.objectKeys(this.shape)){let s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let n of G.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Se;)a=a._def.innerType;r[n]=a}return new t({...this._def,shape:()=>r})}keyof(){return za(G.objectKeys(this.shape))}};we.create=(t,e)=>new we({shape:()=>t,unknownKeys:"strip",catchall:je.create(),typeName:B.ZodObject,...U(e)});we.strictCreate=(t,e)=>new we({shape:()=>t,unknownKeys:"strict",catchall:je.create(),typeName:B.ZodObject,...U(e)});we.lazycreate=(t,e)=>new we({shape:t,unknownKeys:"strip",catchall:je.create(),typeName:B.ZodObject,...U(e)});var Bt=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(let o of a)if(o.result.status==="valid")return o.result;for(let o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let i=a.map(o=>new Fe(o.ctx.common.issues));return C(r,{code:g.invalid_union,unionErrors:i}),M}if(r.common.async)return Promise.all(n.map(async a=>{let i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let a,i=[];for(let l of n){let c={...r,common:{...r.common,issues:[]},parent:null},p=l._parseSync({data:r.data,path:r.path,parent:c});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let o=i.map(l=>new Fe(l));return C(r,{code:g.invalid_union,unionErrors:o}),M}}get options(){return this._def.options}};Bt.create=(t,e)=>new Bt({options:t,typeName:B.ZodUnion,...U(e)});var ut=t=>t instanceof jt?ut(t.schema):t instanceof ke?ut(t.innerType()):t instanceof Ht?[t.value]:t instanceof zt?t.options:t instanceof Vt?G.objectValues(t.enum):t instanceof $t?ut(t._def.innerType):t instanceof It?[void 0]:t instanceof Mt?[null]:t instanceof Se?[void 0,...ut(t.unwrap())]:t instanceof Ke?[null,...ut(t.unwrap())]:t instanceof Hr||t instanceof Zt?ut(t.unwrap()):t instanceof Ut?ut(t._def.innerType):[],En=class t extends W{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==T.object)return C(r,{code:g.invalid_type,expected:T.object,received:r.parsedType}),M;let n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(C(r,{code:g.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),M)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let s=new Map;for(let a of r){let i=ut(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of i){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,a)}}return new t({typeName:B.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...U(n)})}};function ps(t,e){let r=Je(t),n=Je(e);if(t===e)return{valid:!0,data:t};if(r===T.object&&n===T.object){let s=G.objectKeys(e),a=G.objectKeys(t).filter(o=>s.indexOf(o)!==-1),i={...t,...e};for(let o of a){let l=ps(t[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(r===T.array&&n===T.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let a=0;a<t.length;a++){let i=t[a],o=e[a],l=ps(i,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===T.date&&n===T.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Lt=class extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),s=(a,i)=>{if(xn(a)||xn(i))return M;let o=ps(a.value,i.value);return o.valid?((_n(a)||_n(i))&&r.dirty(),{status:r.value,value:o.data}):(C(n,{code:g.invalid_intersection_types}),M)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Lt.create=(t,e,r)=>new Lt({left:t,right:e,typeName:B.ZodIntersection,...U(r)});var Qe=class t extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==T.array)return C(n,{code:g.invalid_type,expected:T.array,received:n.parsedType}),M;if(n.data.length<this._def.items.length)return C(n,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),M;!this._def.rest&&n.data.length>this._def.items.length&&(C(n,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...n.data].map((i,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new Ne(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>fe.mergeArray(r,i)):fe.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Qe.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qe({items:t,typeName:B.ZodTuple,rest:null,...U(e)})};var Cn=class t extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==T.object)return C(n,{code:g.invalid_type,expected:T.object,received:n.parsedType}),M;let s=[],a=this._def.keyType,i=this._def.valueType;for(let o in n.data)s.push({key:a._parse(new Ne(n,o,n.path,o)),value:i._parse(new Ne(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?fe.mergeObjectAsync(r,s):fe.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof W?new t({keyType:e,valueType:r,typeName:B.ZodRecord,...U(n)}):new t({keyType:yt.create(),valueType:e,typeName:B.ZodRecord,...U(r)})}},dr=class extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==T.map)return C(n,{code:g.invalid_type,expected:T.map,received:n.parsedType}),M;let s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([o,l],c)=>({key:s._parse(new Ne(n,o,n.path,[c,"key"])),value:a._parse(new Ne(n,l,n.path,[c,"value"]))}));if(n.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of i){let c=await l.key,p=await l.value;if(c.status==="aborted"||p.status==="aborted")return M;(c.status==="dirty"||p.status==="dirty")&&r.dirty(),o.set(c.value,p.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of i){let c=l.key,p=l.value;if(c.status==="aborted"||p.status==="aborted")return M;(c.status==="dirty"||p.status==="dirty")&&r.dirty(),o.set(c.value,p.value)}return{status:r.value,value:o}}}};dr.create=(t,e,r)=>new dr({valueType:e,keyType:t,typeName:B.ZodMap,...U(r)});var fr=class t extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==T.set)return C(n,{code:g.invalid_type,expected:T.set,received:n.parsedType}),M;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(C(n,{code:g.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(C(n,{code:g.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let a=this._def.valueType;function i(l){let c=new Set;for(let p of l){if(p.status==="aborted")return M;p.status==="dirty"&&r.dirty(),c.add(p.value)}return{status:r.value,value:c}}let o=[...n.data.values()].map((l,c)=>a._parse(new Ne(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:k.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:k.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};fr.create=(t,e)=>new fr({valueType:t,minSize:null,maxSize:null,typeName:B.ZodSet,...U(e)});var Pn=class t extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==T.function)return C(r,{code:g.invalid_type,expected:T.function,received:r.parsedType}),M;function n(o,l){return jr({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ir(),ot].filter(c=>!!c),issueData:{code:g.invalid_arguments,argumentsError:l}})}function s(o,l){return jr({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ir(),ot].filter(c=>!!c),issueData:{code:g.invalid_return_type,returnTypeError:l}})}let a={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof Ft){let o=this;return pe(async function(...l){let c=new Fe([]),p=await o._def.args.parseAsync(l,a).catch(b=>{throw c.addIssue(n(l,b)),c}),x=await Reflect.apply(i,this,p);return await o._def.returns._def.type.parseAsync(x,a).catch(b=>{throw c.addIssue(s(x,b)),c})})}else{let o=this;return pe(function(...l){let c=o._def.args.safeParse(l,a);if(!c.success)throw new Fe([n(l,c.error)]);let p=Reflect.apply(i,this,c.data),x=o._def.returns.safeParse(p,a);if(!x.success)throw new Fe([s(p,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Qe.create(e).rest(lt.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Qe.create([]).rest(lt.create()),returns:r||lt.create(),typeName:B.ZodFunction,...U(n)})}},jt=class extends W{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};jt.create=(t,e)=>new jt({getter:t,typeName:B.ZodLazy,...U(e)});var Ht=class extends W{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return C(r,{received:r.data,code:g.invalid_literal,expected:this._def.value}),M}return{status:"valid",value:e.data}}get value(){return this._def.value}};Ht.create=(t,e)=>new Ht({value:t,typeName:B.ZodLiteral,...U(e)});function za(t,e){return new zt({values:t,typeName:B.ZodEnum,...U(e)})}var zt=class t extends W{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return C(r,{expected:G.joinValues(n),received:r.parsedType,code:g.invalid_type}),M}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return C(r,{received:r.data,code:g.invalid_enum_value,options:n}),M}return pe(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};zt.create=za;var Vt=class extends W{_parse(e){let r=G.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==T.string&&n.parsedType!==T.number){let s=G.objectValues(r);return C(n,{expected:G.joinValues(s),received:n.parsedType,code:g.invalid_type}),M}if(this._cache||(this._cache=new Set(G.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let s=G.objectValues(r);return C(n,{received:n.data,code:g.invalid_enum_value,options:s}),M}return pe(e.data)}get enum(){return this._def.values}};Vt.create=(t,e)=>new Vt({values:t,typeName:B.ZodNativeEnum,...U(e)});var Ft=class extends W{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==T.promise&&r.common.async===!1)return C(r,{code:g.invalid_type,expected:T.promise,received:r.parsedType}),M;let n=r.parsedType===T.promise?r.data:Promise.resolve(r.data);return pe(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Ft.create=(t,e)=>new Ft({type:t,typeName:B.ZodPromise,...U(e)});var ke=class extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{C(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){let i=s.transform(n.data,a);if(n.common.async)return Promise.resolve(i).then(async o=>{if(r.value==="aborted")return M;let l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?M:l.status==="dirty"?Nt(l.value):r.value==="dirty"?Nt(l.value):l});{if(r.value==="aborted")return M;let o=this._def.schema._parseSync({data:i,path:n.path,parent:n});return o.status==="aborted"?M:o.status==="dirty"?Nt(o.value):r.value==="dirty"?Nt(o.value):o}}if(s.type==="refinement"){let i=o=>{let l=s.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?M:(o.status==="dirty"&&r.dirty(),i(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?M:(o.status==="dirty"&&r.dirty(),i(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Dt(i))return M;let o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Dt(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:r.value,value:o})):M);G.assertNever(s)}};ke.create=(t,e,r)=>new ke({schema:t,typeName:B.ZodEffects,effect:e,...U(r)});ke.createWithPreprocess=(t,e,r)=>new ke({schema:e,effect:{type:"preprocess",transform:t},typeName:B.ZodEffects,...U(r)});var Se=class extends W{_parse(e){return this._getType(e)===T.undefined?pe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Se.create=(t,e)=>new Se({innerType:t,typeName:B.ZodOptional,...U(e)});var Ke=class extends W{_parse(e){return this._getType(e)===T.null?pe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ke.create=(t,e)=>new Ke({innerType:t,typeName:B.ZodNullable,...U(e)});var $t=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===T.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};$t.create=(t,e)=>new $t({innerType:t,typeName:B.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...U(e)});var Ut=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return or(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fe(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fe(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Ut.create=(t,e)=>new Ut({innerType:t,typeName:B.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...U(e)});var mr=class extends W{_parse(e){if(this._getType(e)!==T.nan){let n=this._getOrReturnCtx(e);return C(n,{code:g.invalid_type,expected:T.nan,received:n.parsedType}),M}return{status:"valid",value:e.data}}};mr.create=t=>new mr({typeName:B.ZodNaN,...U(t)});var Al=Symbol("zod_brand"),Hr=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},zr=class t extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?M:a.status==="dirty"?(r.dirty(),Nt(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?M:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:B.ZodPipeline})}},Zt=class extends W{_parse(e){let r=this._def.innerType._parse(e),n=s=>(Dt(s)&&(s.value=Object.freeze(s.value)),s);return or(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}};Zt.create=(t,e)=>new Zt({innerType:t,typeName:B.ZodReadonly,...U(e)});function Ba(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Va(t,e={},r){return t?gt.create().superRefine((n,s)=>{let a=t(n);if(a instanceof Promise)return a.then(i=>{if(!i){let o=Ba(e,n),l=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:l})}});if(!a){let i=Ba(e,n),o=i.fatal??r??!0;s.addIssue({code:"custom",...i,fatal:o})}}):gt.create()}var Rl={object:we.lazycreate},B;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(B||(B={}));var Il=(t,e={message:`Input not instance of ${t.name}`})=>Va(r=>r instanceof t,e),$a=yt.create,Ua=kt.create,Ml=mr.create,Bl=Ot.create,Za=At.create,Ll=Rt.create,jl=lr.create,Hl=It.create,zl=Mt.create,Vl=gt.create,$l=lt.create,Ul=je.create,Zl=cr.create,Wl=ct.create,ql=we.create,Yl=we.strictCreate,Gl=Bt.create,Jl=En.create,Ql=Lt.create,Kl=Qe.create,Xl=Cn.create,ec=dr.create,tc=fr.create,rc=Pn.create,nc=jt.create,sc=Ht.create,ac=zt.create,ic=Vt.create,oc=Ft.create,uc=ke.create,lc=Se.create,cc=Ke.create,dc=ke.createWithPreprocess,fc=zr.create,mc=()=>$a().optional(),pc=()=>Ua().optional(),hc=()=>Za().optional(),Dc={string:t=>yt.create({...t,coerce:!0}),number:t=>kt.create({...t,coerce:!0}),boolean:t=>At.create({...t,coerce:!0}),bigint:t=>Ot.create({...t,coerce:!0}),date:t=>Rt.create({...t,coerce:!0})};var yc=M;var gr=require("obsidian");var hs;function z(t){if(t&&(hs=t),!hs)throw new Error("Plugin instance not set");return hs}var be=require("obsidian");function y(t,e){return{isSuccess:!0,result:t,processedFilepath:e}}function O(t,e){return{isSuccess:!1,errorCode:t,errorMessage:e}}function gc(){return Array.from(z().app.plugins?.enabledPlugins||[]).sort()}function Vr(t){return gc().contains(t)}function Wt(t){return Vr(t)?y(z().app.plugins.getPlugin(t)):O(424,`Community plugin ${t} is not enabled.`)}function Tn(t){return!!z().app.internalPlugins?.getEnabledPluginById(t)}function dt(t){let e=z().app.internalPlugins?.getEnabledPluginById(t);return e?y(e):O(424,`Core plugin ${t} is not enabled.`)}var Wa=require("obsidian");function wt(t=""){return t.endsWith(`
`)?t:`${t}
`}function qa(t){if(!t.startsWith("/"))return O(406,S.search_pattern_invalid);let e=t.slice(1),r=e.lastIndexOf("/");if(r===0)return O(406,S.search_pattern_empty);let n,s=e.slice(r+1);e=e.slice(0,r);try{n=new RegExp(e,s)}catch{return O(406,S.search_pattern_unparseable)}return y(n)}function $r(t){return t.replace(/([.*+?^${}()|[\]\\])/g,"\\$1")}function Ds(t){let e=(0,Wa.getFrontMatterInfo)(t);return{frontMatter:e.frontmatter,body:t.slice(e.contentStart)}}function Ya(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()}async function He(t){return new Promise(e=>{setTimeout(()=>e(),t)})}var pr=require("obsidian");function qt(t){new pr.Notice(`[Actions URI] ${t}`)}function ys(...t){console.log("[Actions URI]",...t)}function Ur(...t){console.error("[Actions URI]",...t)}async function ce(t){let e=await Fc(t);if(e.isSuccess)return e;let r=await Sn(t);return r.isSuccess?(z().app.workspace.getLeaf(!0).openFile(r.result),y(S.note_opened)):O(404,S.note_not_found)}async function Fc(t){for(let e of z().app.workspace.getLeavesOfType("markdown"))if((0,pr.requireApiVersion)("1.7.2")&&await e.loadIfDeferred(),e.view instanceof pr.FileView&&e.view.file?.path===t)return await z().app.workspace.revealLeaf(e),y("Open file found and focussed");return O(404,"File currently not open")}async function vt(t,e){t=me(t);let r=z().app.vault,n=r.getFileByPath(t),s=n instanceof be.TFile;if(s){let i=t.match(/( (\d+))?\.md$/)[2],o=i?+i:0;do o++,t=t.replace(/( \d+)?\.md$/,` ${o}.md`),n=r.getFileByPath(t),s=n instanceof be.TFile;while(s)}await kn(ai(t)),await si(t,e);let a=r.getFileByPath(t);return a instanceof be.TFile?y(a):O(400,S.unable_to_write_note)}async function hr(t,e){t=me(t);let{vault:r}=z().app,n=r.getFileByPath(t);if(n instanceof be.TFile)return await He(500),await r.modify(n,e),y(r.getFileByPath(t));await kn(ai(t)),await si(t,e);let s=r.getFileByPath(t);return s instanceof be.TFile?y(s):O(400,S.unable_to_write_note)}async function Dr(t){let e=z().app.vault,r=await xe(t);if(!r.isSuccess)return r;let n=await e.read(r.result);return typeof n=="string"?y(n):O(400,S.unable_to_read_note)}async function he(t){let e=await xe(t);if(!e.isSuccess)return e;let r=await Dr(t);if(!r.isSuccess)return r;let n=e.result,s=r.result,{body:a,frontMatter:i}=Ds(s),o=await Zr(n),l=z().app.vault.getName(),c=Qa(o);return y({filepath:t,content:s,uriPath:Ga(t,l),uriUID:Ja(c,l),body:a,frontMatter:i,properties:o,uid:c})}function me(t,e=!0){return t=t.replace(/[:#^[]|]/g,"-"),t=(0,be.normalizePath)(t).split("/").map(r=>r.trim()).join("/").replace(/^[\/\.]+/g,""),e&&!/\.(md|canvas)/i.test(wc(t))?`${t}.md`:t}function Xe(t,e=!0){return z().app.vault.getAbstractFileByPath(me(t,e))}async function Nn(t,e,r){let n=await xe(t);if(!n.isSuccess)return n;let s=await he(t);if(!s.isSuccess||typeof e!="string"&&typeof r!="string")return s;let a=z().app.vault.getName(),i=n.result,o=s.result,l=typeof r=="string"?r:o.body,c=typeof e=="string"?e:o.frontMatter;c=c.trim();let p=c!==""?["---",c,"---",l].join(`
`):l;await z().app.vault.modify(i,p);let x=await Zr(i),v=Qa(x);return y({filepath:t,content:p,uriPath:Ga(a,t),uriUID:Ja(v,a),body:l,frontMatter:c,properties:x,uid:v})}function Ga(t,e){return"obsidian://actions-uri/note/open?vault="+encodeURIComponent(e)+"&file="+encodeURIComponent(t)}function Ja(t,e){if(t)return"obsidian://actions-uri/note/open?vault="+encodeURIComponent(e)+"&uid="+encodeURIComponent(t)}function Qa(t){let e=t[z().settings.frontmatterKey];return Array.isArray(e)?e[0]:e}async function Ka(t){let e=await xe(t);if(!e.isSuccess)return e;let r=await he(t);return r.isSuccess?(await z().app.vault.modify(e.result,r.result.content),e):r}async function gs(t,e,r){let n=await Dr(t);if(!n.isSuccess)return n;let s=n.result,a=typeof e=="string"?s.replaceAll(e,r):s.replace(e,r);if(s===a)return typeof e=="string"?y(S.search_string_not_found):y(S.search_pattern_not_found);let i=await hr(t,a);return i.isSuccess?y(S.replacement_done):i}async function Fs(t,e,r=!1){let n=await Dr(t);if(!n.isSuccess)return n;let s=n.result+(r?wt(e):e),a=await hr(t,s);return a.isSuccess?y(S.append_done):a}async function Xa(t,e,r){let n=await xe(t);if(!n.isSuccess)return n;let s=new RegExp(`^${$r(e.trim())}\\s*\\n`,"s");return await z().app.vault.process(n.result,i=>wt(i).split(/(?=^#+ )/m).map(o=>s.test(o)?wt(o.trim()+`
`+r+o.match(/\n+$/)?.[0]||""):o).join(""))?y(S.append_done):O(400,S.unable_to_write_note)}async function ei(t,e,r=!1,n=!1){let s=await Dr(t);if(!s.isSuccess)return s;let a=s.result,i;if(r&&(e=wt(e)),n)i=e+a;else{let{frontMatter:l,body:c}=Ds(a);i=`---
${l}---
`+e+c}let o=await hr(t,i);return o.isSuccess?y(S.prepend_done):o}async function ti(t,e,r,n=!1){let s=await xe(t);if(!s.isSuccess)return s;let a=new RegExp(`^${$r(e.trim())}\\s*\\n`,"s");return await z().app.vault.process(s.result,o=>wt(o).split(/(?=^#+ )/m).map(l=>{if(!a.test(l))return l;n&&(r=wt(r));let c=l.split(`
`);c[1]=r+(c[1]||"");let p=c.join(`
`);return wt(p)}).join(""))?y(S.append_done):O(400,S.unable_to_write_note)}function ri(){let t=z().app.vault,{fileMap:e}=t;return Object.values(e)}async function Sn(t){let e=me(t,!1),r=z().app.vault.getFileByPath(e);return r instanceof be.TFile?y(r):O(404,S.note_not_found)}async function xe(t){let e=me(t),r=z().app.vault.getFileByPath(e);return r instanceof be.TFile?y(r):O(404,S.note_not_found)}async function ni(t,e){let r=dt("templates");if(!r.isSuccess)return r;let n=r.result;await ce(e.path);try{let s=z().app.workspace.getActiveViewOfType(be.MarkdownView);s&&s?.getMode()!=="source"&&await s.setState({...s.getState(),mode:"source"},{history:!1})}catch(s){let a=s.message;return qt(a),Ur(a),O(500,a)}return await He(200),await n.insertTemplate(t),y(!0)}async function ze(t,e=!1){let r=z().app.vault,n=r.getAbstractFileByPath(t);if(!n)return O(404,S.not_found);if(e)await r.delete(n,!0);else{let s=r.config?.trashOption==="system";await r.trash(n,s)}return y(S.trash_done)}async function yr(t,e){let n=z().app.vault.getAbstractFileByPath(t);if(!n)return O(404,S.not_found);try{await z().app.fileManager.renameFile(n,e)}catch(s){let a=s.message;return O(404,a.contains("no such file or directory")?"No such file or folder":a)}return y(S.rename_done)}async function kn(t){let e=z().app.vault;t=me(t,!1),!(t===""||t===".")&&(e.getFolderByPath(t)||await e.createFolder(t))}async function Zr(t){return await He(200),z().app.metadataCache.getFileCache(t)?.frontmatter||{}}async function si(t,e){await z().app.vault.create(t,e),(Tn("templates")||Vr("templater-obsidian"))&&await He(500)}function ai(t){return t=(0,be.normalizePath)(t),t.indexOf("/")===-1?".":t.replace(/\/[^/]*$/,"")}function wc(t){let e=(0,be.normalizePath)(t).split("/").pop()||"";return e.includes(".")?`.${e.split(".").pop()}`:""}var te=D.preprocess(t=>typeof t=="string"&&t!=="false"&&t!=="",D.boolean().optional()),Fr=D.string().min(1,{message:"can't be empty"}).transform(t=>me(t)),ii=D.string().min(1,{message:"can't be empty"}).transform(t=>me(t,!1)),ws=D.string().min(1,{message:"can't be empty"}).transform(t=>me(t,!1)),oi=D.string().refine(t=>{try{let e=JSON.parse(t);return Array.isArray(e)&&e.every(r=>typeof r=="string")}catch{return!1}},{message:"Input must be a JSON-encoded string array."}).transform(t=>JSON.parse(t)),ui=D.string().refine(t=>{try{let e=JSON.parse(t);return typeof e!="object"?!1:Object.values(e).every(n=>{let s=typeof n;return["string","number","boolean"].includes(s)||n===null?!0:Array.isArray(n)?n.every(a=>typeof a=="string"):!1})}catch{return!1}},{message:"Input must be a JSON-encoded object containing only values of type string, string array, number, boolean or null."}).transform(t=>JSON.parse(t)),li=D.string().min(1,{message:"can't be empty"}).transform(t=>t.split(",").map(e=>e.trim())),bh=D.preprocess(xc,D.instanceof(gr.TFile,{message:"Template doesn't exist or Templater isn't enabled"})),xh=D.preprocess(_c,D.instanceof(gr.TFile,{message:"Template doesn't exist or Templates isn't enabled"})),On=D.preprocess(vc,D.instanceof(gr.TFile,{message:"File doesn't exist"})),vs=D.preprocess(bc,D.instanceof(gr.TFolder,{message:"Folder doesn't exist"}));function vc(t){return typeof t=="string"&&t.length>0?Xe(t,!1):null}function bc(t){return typeof t=="string"&&t.length>0?z().app.vault.getFolderByPath(t):null}function xc(t){if(typeof t!="string"||!t)return null;let e=Xe(t,!0);if(e)return e;let r=Wt("templater-obsidian");if(r.isSuccess){let n=r.result.settings?.templates_folder;return Xe(`${n}/${t}`,!0)||Xe(`${n}/${t}.md`,!0)}return null}function _c(t){if(typeof t!="string"||!t)return null;let e=Xe(t,!0);if(e)return e;let r=dt("templates");if(r.isSuccess){let n=r.result.options?.folder;return Xe(`${n}/${t}`,!0)||Xe(`${n}/${t}.md`,!0)}return null}var Ss=require("obsidian"),V=Oa(xi());var Yt=(a=>(a.DailyNote="daily",a.WeeklyNote="weekly",a.MonthlyNote="monthly",a.QuarterlyNote="quarterly",a.YearlyNote="yearly",a))(Yt||{}),Ns=(p=>(p.DailyNote="daily",p.WeeklyNote="weekly",p.MonthlyNote="monthly",p.QuarterlyNote="quarterly",p.YearlyNote="yearly",p.RecentDailyNote="recent-daily",p.RecentWeeklyNote="recent-weekly",p.RecentMonthlyNote="recent-monthly",p.RecentQuarterlyNote="recent-quarterly",p.RecentYearlyNote="recent-yearly",p))(Ns||{});function _i(t){let e;switch(t){case"daily":e=V.getDailyNoteSettings;break;case"weekly":e=V.getWeeklyNoteSettings;break;case"monthly":e=V.getMonthlyNoteSettings;break;case"quarterly":e=V.getQuarterlyNoteSettings;break;case"yearly":e=V.getYearlyNoteSettings;break}let{format:r,folder:n}=e(),s=(0,Ss.moment)().format(r);return me(`${n}/${s}.md`)}function Ei(t){let e=ks(t),r=Object.keys(e).sort().last();return r?y(e[r].path):O(404,S.note_not_found)}function ks(t){switch(t){case"daily":return(0,V.getAllDailyNotes)();case"weekly":return(0,V.getAllWeeklyNotes)();case"monthly":return(0,V.getAllMonthlyNotes)();case"quarterly":return(0,V.getAllQuarterlyNotes)();case"yearly":return(0,V.getAllYearlyNotes)()}}function An(t){switch(t){case"daily":return(0,V.appHasDailyNotesPluginLoaded)();case"weekly":return(0,V.appHasWeeklyNotesPluginLoaded)();case"monthly":return(0,V.appHasMonthlyNotesPluginLoaded)();case"quarterly":return(0,V.appHasQuarterlyNotesPluginLoaded)();case"yearly":return(0,V.appHasYearlyNotesPluginLoaded)()}}async function Xr(t){let e=(0,Ss.moment)(),r;switch(t){case"daily":r=(0,V.createDailyNote)(e);break;case"weekly":r=(0,V.createWeeklyNote)(e);break;case"monthly":r=(0,V.createMonthlyNote)(e);break;case"quarterly":r=(0,V.createQuarterlyNote)(e);break;case"yearly":r=(0,V.createYearlyNote)(e);break}return(Tn("templates")||Vr("templater-obsidian"))&&await He(500),r}var R=D.object({action:D.string(),vault:D.string().min(1,{message:"can't be empty"}),"debug-mode":te,"hide-ui-notice-on-error":te,"x-error":D.string().url().optional(),"x-success":D.string().url().optional(),"x-source":D.string().optional()}),$e=D.object({file:Fr.optional(),uid:D.string().optional(),"periodic-note":D.nativeEnum(Yt).optional()}),Os=D.object({file:Fr.optional(),uid:D.string().optional(),"periodic-note":D.nativeEnum(Ns).optional()});function re(t="/"){return{path:t,schema:R.extend({}),handler:Wc}}async function Wc(t){return qt("\u2026 is ready for action \u{1F680}"),y({message:"Hello!"})}var qc=R.extend({"x-error":D.string().url(),"x-success":D.string().url()}),Yc=R.extend({commands:li,"pause-in-secs":D.coerce.number().optional()}),Ci={"/command":[re(),{path:"/list",schema:qc,handler:Gc},{path:"/execute",schema:Yc,handler:Jc}]};async function Gc(t){let e=this.app.commands.listCommands().map(r=>({id:r.id,name:r.name}));return y({commands:JSON.stringify(e)})}async function Jc(t){let{commands:e}=t,r=(t["pause-in-secs"]||.2)*1e3;for(let n=0;n<e.length;n++){let s=e[n];if(!this.app.commands.executeCommandById(s))return O(404,S.command_not_found(s));n<e.length-1&&await He(r)}return y({})}var ns=Oa(au());var iu=R.extend({dql:D.string(),"x-error":D.string().url(),"x-success":D.string().url()}),ou={"/dataview":[re(),{path:"/table-query",schema:iu,handler:em},{path:"/list-query",schema:iu,handler:tm}]};async function em(t){return await uu.bind(this)("table",t)}async function tm(t){return await uu.bind(this)("list",t)}function rs(t,e){return Array.isArray(e)?e.map(r=>rs(t,r)):t.value.toString(e)}async function uu(t,e){let r=(0,ns.getAPI)(this.app);if(!(0,ns.isPluginEnabled)(this.app)||!r)return O(424,S.dataview_plugin_not_available);let n=e.dql.trim()+`
`;if(!n.toLowerCase().startsWith(t))return O(406,S[`dataview_dql_must_start_with_${t}`]);let s=await r.query(n);return s.successful?t==="table"?lu(s.value.values)>2?y({data:rs(r,s.value.values[0])}):y({data:rs(r,s.value.values)}):t==="list"?(s.value.values=s.value.values.map(a=>Array.isArray(a)?a:[a]),y({data:rs(r,s.value.values).map(a=>a.join(", "))})):O(406,"Neither LIST nor TABLE query"):O(500,s.error)}function lu(t){if(!Array.isArray(t))return 0;let e=1;return t.forEach(r=>{Array.isArray(r)&&(e=Math.max(e,lu(r)+1))}),e}var cu=R.extend({"x-error":D.string().url(),"x-success":D.string().url()}),rm=R.extend({file:On}),du=R.extend({file:On}),nm=R.extend({file:On,"new-filename":ii,silent:te}),fu={"/file":[re(),{path:"/list",schema:cu,handler:sm},{path:"/get-active",schema:cu,handler:am},{path:"/open",schema:rm,handler:im},{path:"/delete",schema:du,handler:om},{path:"/trash",schema:du,handler:um},{path:"/rename",schema:nm,handler:lm}]};async function sm(t){return y({paths:this.app.vault.getFiles().map(e=>e.path).sort()})}async function am(t){let e=this.app.workspace.getActiveFile();return e?y({filepath:e.path}):O(404,"No active file")}async function im(t){let{file:e}=t,r=await Sn(e.path);return r.isSuccess?y({message:S.file_opened},e.path):r}async function om(t){let{file:e}=t,r=await ze(e.path,!0);return r.isSuccess?y({message:r.result},e.path):r}async function um(t){let{file:e}=t,r=await ze(e.path);return r.isSuccess?y({message:r.result},e.path):r}async function lm(t){let{file:e}=t,r=await yr(e.path,t["new-filename"]);return r.isSuccess?y({message:r.result},e.path):r}var pu=require("obsidian");var cm=R.extend({"x-error":D.string().url(),"x-success":D.string().url()}),dm=R.extend({folder:ws}),mu=R.extend({folder:vs}),fm=R.extend({folder:vs,"new-foldername":ws}),hu={"/folder":[re(),{path:"/list",schema:cm,handler:mm},{path:"/create",schema:dm,handler:pm},{path:"/rename",schema:fm,handler:hm},{path:"/delete",schema:mu,handler:Dm},{path:"/trash",schema:mu,handler:ym}]};async function mm(t){return y({paths:ri().filter(e=>e instanceof pu.TFolder).map(e=>e.path.endsWith("/")?e.path:`${e.path}/`).sort()})}async function pm(t){let{folder:e}=t;return await kn(e),y({message:S.folder_created},e)}async function hm(t){let{folder:e}=t,r=await yr(e.path,t["new-foldername"]);return r.isSuccess?y({message:r.result},e.path):r}async function Dm(t){let{folder:e}=t,r=await ze(e.path,!0);return r.isSuccess?y({message:r.result},e.path):r}async function ym(t){let{folder:e}=t,r=await ze(e.path);return r.isSuccess?y({message:r.result},e.path):r}var as=require("obsidian");var ss={pluginVersion:"1.8.3",pluginReleasedAt:"2025-08-05T15:15:18+0200"};var gm=R.extend({"x-error":D.string().url(),"x-success":D.string().url()}),Du={"/info":[{path:"/",schema:gm,handler:Fm}]};async function Fm(t){let e=navigator.userAgent.match(/\((.+?)\)/),r=e?e[1]:"unknown",{isAndroidApp:n,isDesktopApp:s,isIosApp:a,isMacOS:i}=as.Platform,o="";return s&&i?o="macOS":s?o="Windows/Linux":a?o="iOS":n&&(o="Android"),y({...ss,apiVersion:as.apiVersion,nodeVersion:window.process?.version?.replace(/^v/,"")||"N/A",platform:o,os:r})}var Eu=require("obsidian");var yu=require("obsidian");function Or(t,e,r=!1){let n=t;if(["file","uid","periodic-note"].filter(l=>l in n).length!==1)return e.addIssue({code:D.ZodIssueCode.custom,message:S.faulty_note_targeting}),D.NEVER;let a,i="";if("file"in n){let l=n.file;a="file",i=l}else if("uid"in n){let l=n.uid;a="uid";let c=wm(l);i=c.isSuccess?c.result:""}else if(n["periodic-note"]){let l=n["periodic-note"];a="periodic-note";let c=l.replace(/^recent-/,""),p=l.startsWith("recent-");if(!An(c))return e.addIssue({code:D.ZodIssueCode.custom,message:S[`${c}_note`].feature_not_available}),D.NEVER;if(p){let v=Ei(c);i=v.isSuccess?v.result:""}else i=_i(c)}let o;if(i!=""){let l=Xe(i);l&&(o=l,i=l.path)}return!o&&r?(e.addIssue({code:D.ZodIssueCode.custom,message:S.note_not_found,path:[i]}),D.NEVER):ha(t,{inputKey:a,inputPath:i,inputFile:o})}function Ye(t,e){return Or(t,e,!0)}function ha(t,e){return{...t,_resolved:{...t._resolved||{},...e}}}function wm(t){let e=z().app.vault.getMarkdownFiles().find(r=>[(0,yu.parseFrontMatterEntry)(z().app.metadataCache.getFileCache(r)?.frontmatter,z().settings.frontmatterKey)].flat().map(s=>`${s}`).includes(t))?.path;return e?y(e):O(404,S.note_not_found)}var gu=(n=>(n.Default="",n.Overwrite="overwrite",n.Skip="skip",n))(gu||{}),Da=D.nativeEnum(gu).optional(),bm=R.extend({file:D.string(),apply:D.literal("content").optional().default("content"),content:D.string().optional(),"if-exists":Da,silent:te}),xm=R.extend({file:D.string(),apply:D.enum(["templater","templates"]),"template-file":D.string(),"if-exists":Da,silent:te}).transform(Em),_m=R.extend({"periodic-note":D.nativeEnum(Yt),"if-exists":Da,silent:te}),Fu=D.union([bm,xm,_m]).transform(Or);async function wu(t){let{_resolved:{inputPath:e},["if-exists"]:r,["periodic-note"]:n,silent:s}=t,a=!s;if((await xe(e)).isSuccess)switch(r){case"skip":return a&&await ce(e),await he(e);case"overwrite":await ze(e);break;default:return O(409,S[`${n}_note`].create_note_already_exists)}return await Xr(n)?(a&&await ce(e),await he(e)):O(400,S.unable_to_write_note)}async function vu(t){let{_resolved:{inputPath:e},["if-exists"]:r,content:n,silent:s}=t,a=!s,i;if((await xe(e)).isSuccess)switch(r){case"skip":return a&&await ce(e),await he(e);case"overwrite":i=await hr(e,"");break;default:i=await vt(e,"");break}else i=await vt(e,"");if(!i?.isSuccess)return i;let l=i.result;return await this.app.vault.modify(l,n||""),a&&await ce(l.path),await he(l.path)}async function bu(t){let{_resolved:{inputPath:e,templateFile:r},["if-exists"]:n,apply:s,silent:a}=t,i=!a,o;if((await xe(e)).isSuccess)switch(n){case"skip":return i&&await ce(e),await he(e);case"overwrite":o=await hr(e,"");break;default:o=await vt(e,"");break}else o=await vt(e,"");if(!o?.isSuccess)return o;let c=o.result;switch(s){case"templater":let p=Wt("templater-obsidian");if(!p.isSuccess)return p;await p.result.templater.write_template_to_file(r,c);break;case"templates":let x=dt("templates");if(!x.isSuccess)return x;await ni(r,c);break}return i&&await ce(c.path),await he(c.path)}function Em(t,e){let{"template-file":r,apply:n}=t,s="";switch(n){case"templater":let o=Wt("templater-obsidian");if(!o.isSuccess)return e.addIssue({code:D.ZodIssueCode.custom,message:S.templater.feature_not_available}),D.NEVER;s=o.result.settings?.templates_folder||"";break;case"templates":let l=dt("templates");if(!l.isSuccess)return e.addIssue({code:D.ZodIssueCode.custom,message:S.templates.feature_not_available}),D.NEVER;s=l.result.options?.folder||"";break;default:return e.addIssue({code:D.ZodIssueCode.custom,message:S.faulty_apply_parameter}),D.NEVER}let{vault:a}=z().app,i=a.getFileByPath(me(`${s}/${r}`))||a.getFileByPath(me(r));return i?ha(t,{templatePath:i.path,templateFile:i}):(e.addIssue({code:D.ZodIssueCode.custom,message:S.template_not_found}),D.NEVER)}var ya=(n=>(n.Error="error",n.AddHeadline="add-headline",n.Skip="skip",n))(ya||{}),Cm=R.extend({"periodic-note":D.nativeEnum(Yt).optional(),"x-error":D.string().url(),"x-success":D.string().url()}),Pm=R.merge(Os).extend({silent:te,"x-error":D.string().url(),"x-success":D.string().url()}).transform(Ye),Tm=R.extend({"x-error":D.string().url(),"x-success":D.string().url()}),Sm=R.extend({file:Fr,"sort-by":D.enum(["best-guess","path-asc","path-desc","ctime-asc","ctime-desc","mtime-asc","mtime-desc",""]).optional(),"x-error":D.string().url(),"x-success":D.string().url()}),Nm=R.merge(Os).transform(Ye),km=R.merge($e).extend({content:D.string(),silent:te,"below-headline":D.string().optional(),"create-if-not-found":te,"ensure-newline":te,"if-headline-missing":D.nativeEnum(ya).optional().default("error")}).transform(Or),Om=R.merge($e).extend({content:D.string(),silent:te,"below-headline":D.string().optional(),"create-if-not-found":te,"ensure-headline":te,"ensure-newline":te,"if-headline-missing":D.nativeEnum(ya).optional().default("error"),"ignore-front-matter":te}).transform(Or),Am=R.merge($e).extend({silent:te}).transform(Ye),xu=R.merge($e).extend({silent:te,search:D.string().min(1,{message:"can't be empty"}),replace:D.string()}).transform(Ye),_u=R.merge($e).transform(Ye),Rm=R.merge($e).extend({"new-filename":Fr,silent:te}).transform(Ye),Cu={"/note":[re(),{path:"/list",schema:Cm,handler:Im},{path:"/get",schema:Pm,handler:Mm},{path:"/get-first-named",schema:Sm,handler:Lm},{path:"/get-active",schema:Tm,handler:Bm},{path:"/open",schema:Nm,handler:jm},{path:"/create",schema:Fu,handler:Hm},{path:"/append",schema:km,handler:zm},{path:"/prepend",schema:Om,handler:Vm},{path:"/touch",schema:Am,handler:$m},{path:"/delete",schema:_u,handler:Wm},{path:"/trash",schema:_u,handler:qm},{path:"/rename",schema:Rm,handler:Ym},{path:"/search-string-and-replace",schema:xu,handler:Um},{path:"/search-regex-and-replace",schema:xu,handler:Zm}]};async function Im(t){let{"periodic-note":e}=t;if(!e)return y({paths:this.app.vault.getMarkdownFiles().map(n=>n.path).sort()});if(!An(e))return O(424,S[`${e}_note`].feature_not_available);let r=ks(e);return y({paths:Object.keys(r).sort().reverse().map(n=>r[n].path)})}async function Mm(t){let{_resolved:{inputPath:e},silent:r}=t,n=await he(e);return n.isSuccess&&!r&&await ce(e),n}async function Bm(t){let e=this.app.workspace.getActiveFile();if(e?.extension!=="md")return O(404,"No active note");let r=await he(e.path);if(!r.isSuccess)return O(404,"No active note");let n=this.app.workspace.getActiveViewOfType(Eu.MarkdownView),s=n?n.currentMode.getSelection():void 0;return s?y({...r.result,selection:s}):r}async function Lm(t){let{file:e}=t,r=t["sort-by"]||"best-guess";if(r==="best-guess"){let a=this.app.metadataCache.getFirstLinkpathDest(me(e),"/");return a?await he(a.path):O(404,"No note found with that name")}let n={"path-asc":(a,i)=>a.path.localeCompare(i.path),"path-desc":(a,i)=>i.path.localeCompare(a.path),"ctime-asc":(a,i)=>a.stat.ctime-i.stat.ctime,"ctime-desc":(a,i)=>i.stat.ctime-a.stat.ctime,"mtime-asc":(a,i)=>a.stat.mtime-i.stat.mtime,"mtime-desc":(a,i)=>i.stat.mtime-a.stat.mtime},s=this.app.vault.getMarkdownFiles().sort(n[r]).find(a=>a.name===e);return s?await he(s.path):O(404,"No note found with that name")}async function jm(t){let{_resolved:{inputPath:e}}=t,r=await xe(e);return r.isSuccess?y({message:S.note_opened},r.result.path):r}async function Hm(t){let{_resolved:{inputKey:e}}=t;if(e==="periodic-note")return wu.bind(this)(t);switch(t.apply){case"content":return vu.bind(this)(t);case"templater":case"templates":return bu.bind(this)(t)}}async function zm(t){let{_resolved:{inputKey:e,inputFile:r,inputPath:n},["below-headline"]:s,["create-if-not-found"]:a,["ensure-newline"]:i,["if-headline-missing"]:o,["periodic-note"]:l,content:c,silent:p,uid:x}=t,v=!r&&e==="uid"&&a?x:n;async function b(){if(s){let j=await Pu(v,s,o);return j.isSuccess?await Xa(v,s,c):j}return await Fs(v,c,i)}if(!r){if(!a)return O(404,S.note_not_found);if(e==="periodic-note"){if(!await Xr(l))return O(400,S.unable_to_write_note)}else{let j=await vt(v,"");if(!j.isSuccess)return j;e==="uid"&&await this.app.fileManager.processFrontMatter(j.result,L=>L[this.settings.frontmatterKey]=x)}}let A=await b();return A.isSuccess?(p||await ce(v),y({message:A.result},v)):A}async function Vm(t){let{_resolved:{inputKey:e,inputFile:r,inputPath:n},["below-headline"]:s,["create-if-not-found"]:a,["ensure-newline"]:i,["ignore-front-matter"]:o,["if-headline-missing"]:l,["periodic-note"]:c,content:p,silent:x,uid:v}=t,b=!r&&e==="uid"&&a?v:n;async function A(){if(s&&s){let L=await Pu(b,s,l);return L.isSuccess?await ti(b,s,p,i):L}return await ei(b,p,i,o)}if(!r){if(!a)return O(404,S.note_not_found);if(e==="periodic-note"){if(!await Xr(c))return O(400,S.unable_to_write_note)}else{let L=await vt(b,"");if(!L.isSuccess)return L;e==="uid"&&await this.app.fileManager.processFrontMatter(L.result,Q=>Q[this.settings.frontmatterKey]=v)}}let j=await A();return j.isSuccess?(x||await ce(b),y({message:j.result},b)):j}async function $m(t){let{_resolved:{inputPath:e},silent:r}=t,n=await Ka(e);return n.isSuccess?(r||await ce(e),y({message:S.touch_done},e)):n}async function Um(t){let{_resolved:{inputPath:e},search:r,replace:n,silent:s}=t,a=await gs(e,r,n);return a.isSuccess?(s||await ce(e),y({message:a.result},e)):a}async function Zm(t){let{_resolved:{inputPath:e},search:r,replace:n,silent:s}=t,a=qa(r);if(!a.isSuccess)return a;let i=await gs(e,a.result,n);return i.isSuccess?(s||await ce(e),y({message:i.result},e)):i}async function Wm(t){let{_resolved:{inputPath:e}}=t,r=await ze(e,!0);return r.isSuccess?y({message:r.result},e):r}async function qm(t){let{_resolved:{inputPath:e}}=t,r=await ze(e);return r.isSuccess?y({message:r.result},e):r}async function Ym(t){let{_resolved:{inputPath:e},["new-filename"]:r}=t,n=await yr(e,r);return n.isSuccess?y({message:n.result},e):n}async function Pu(t,e,r){let n=await Dr(t);if(!n.isSuccess)return n;let s=e.trim();if(new RegExp(`^${$r(s)}\\s*$`,"m").test(n.result))return y("Note contains headline");switch(r){case"add-headline":return await Fs(t,`
${s}`,!0);case"skip":return y(S.headline_not_found);case"error":return O(404,S.headline_not_found)}}var Su=require("obsidian");var Tu=R.merge($e).extend({silent:te,"x-error":D.string().url(),"x-success":D.string().url()}).transform(Ye),Gm=R.merge($e).extend({properties:ui,mode:D.enum(["overwrite","update"]).optional()}).transform(Ye),Jm=R.merge($e).extend({keys:oi}).transform(Ye),Nu={"/note-properties":[re(),{path:"/get",schema:Tu,handler:Qm},{path:"/set",schema:Gm,handler:Km},{path:"/clear",schema:Tu,handler:Xm},{path:"/remove-keys",schema:Jm,handler:ep}]};async function Qm(t){let{_resolved:{inputFile:e}}=t;return y({properties:await Zr(e)},e?.path)}async function Km(t){let{_resolved:{inputFile:e},mode:r,properties:n}=t,{path:s}=e;if(r==="update"){let a=await xe(s);if(!a.isSuccess)return a;try{return z().app.fileManager.processFrontMatter(a.result,i=>Object.assign(i,n)),he(s)}catch{return O(400,S.properties.unable_to_update)}}else return Nn(s,ku(n))}async function Xm(t){let{_resolved:{inputPath:e}}=t;return Nn(e,"")}async function ep(t){let{_resolved:{inputPath:e,inputFile:r},keys:n}=t,s=await Zr(r);return n.forEach(a=>delete s[a]),Nn(e,ku(s))}function ku(t){return Object.keys(t).length>0?(0,Su.stringifyYaml)(t).trim():""}async function Ou(t){let e=dt("global-search");if(!e.isSuccess)return O(424,S.global_search_feature_not_available);e.result.openGlobalSearch(t);let n=z().app.workspace.getLeavesOfType("search")[0],s=await n.open(n.view);await He(2e3);let a=s.dom.resultDomLookup,i=Array.from(a.keys()).map(o=>o.path);return y({hits:i})}async function Au(t){let e=Wt("omnisearch");if(!e.isSuccess)return O(424,S.omnisearch_plugin_not_available);let s=(await e.result.api.search(t)).map(a=>a.path);return y({hits:s})}var tp=R.extend({query:D.string().min(1,{message:"can't be empty"}),"x-error":D.string().url(),"x-success":D.string().url()}),rp=R.extend({query:D.string().min(1,{message:"can't be empty"})}),Ru={"/omnisearch":[re(),{path:"/all-notes",schema:tp,handler:np},{path:"/open",schema:rp,handler:sp}]};async function np(t){let e=await Au(t.query);return e.isSuccess?y(e.result):e}async function sp(t){return window.open("obsidian://omnisearch?vault="+encodeURIComponent(this.app.vault.getName())+"&query="+encodeURIComponent(t.query.trim())),y({message:"Opened search"})}var Iu={"/":[re()]};var ap=R.extend({query:D.string().min(1,{message:"can't be empty"}),"x-error":D.string().url(),"x-success":D.string().url()}),ip=R.extend({query:D.string().min(1,{message:"can't be empty"})}),Mu={"/search":[re(),{path:"/all-notes",schema:ap,handler:op},{path:"/open",schema:ip,handler:up}]};async function op(t){let e=await Ou(t.query);return e.isSuccess?y(e.result):e}async function up(t){return window.open("obsidian://search?vault="+encodeURIComponent(this.app.vault.getName())+"&query="+encodeURIComponent(t.query.trim())),y({message:"Opened search"})}var lp=R,Bu={"/settings":[re(),{path:"/open",schema:lp,handler:cp}]};async function cp(t){let e=this.app.setting;return e.open(),e.openTabById(this.manifest.id),y({message:"Opened settings UI"})}var Lu=require("obsidian");var ga=R.extend({"x-error":D.string().url(),"x-success":D.string().url()}),ju={"/vault":[re(),{path:"/open",schema:R,handler:dp},{path:"/close",schema:R,handler:fp},{path:"/info",schema:ga,handler:mp},{path:"/list-all-files",schema:ga,handler:pp},{path:"/list-non-notes-files",schema:ga,handler:hp}]};async function dp(t){return y({})}async function fp(t){return Lu.Platform.isMobileApp?O(424,S.not_available_on_mobile):(window.setTimeout(window.close,600),y({}))}async function mp(t){let{vault:e}=this.app,{config:r}=e,n=e.adapter.basePath;return!r||!n?O(404,S.vault_internals_not_found):y({basePath:n,attachmentFolderPath:`${n}/${r.attachmentFolderPath}`.replace(/\/$/,""),newFileFolderPath:r.newFileLocation==="folder"?`${n}/${r.newFileFolderPath}`.replace(/\/$/,""):n})}async function pp(t){return y({paths:this.app.vault.getFiles().map(e=>e.path).sort()})}async function hp(t){let{vault:e}=this.app,r=e.getFiles().map(s=>s.path),n=e.getMarkdownFiles().map(s=>s.path);return y({paths:r.filter(s=>!n.includes(s)).sort()})}var Dp=R.extend({"x-error":D.string().url(),"x-success":D.string().url()}),Hu={"/tags":[re(),{path:"/list",schema:Dp,handler:yp}]};async function yp(t){return y({tags:Object.keys(this.app.metadataCache.getTags()).sort((e,r)=>e.localeCompare(r))})}var zu={...Iu,...Ci,...ou,...fu,...hu,...Du,...Nu,...Cu,...Ru,...Mu,...Bu,...Hu,...ju};var Ar=require("obsidian"),is=class extends Ar.PluginSettingTab{plugin;constructor(e,r){super(e,r),this.plugin=r}display(){let{containerEl:e,plugin:r,plugin:{settings:n,defaultSettings:s}}=this,a=(0,Ar.debounce)(async o=>{n.frontmatterKey=o.trim()||s.frontmatterKey,await r.saveSettings()},400);e.empty(),new Ar.Setting(e).setName("UID frontmatter key").setDesc(`
        Actions URI is able to find notes by their UID.
        This unique identifier is stored in the note's frontmatter.
        The plugin needs to know under which frontmatter key it can find the UID. (Default: "uid".)
      `).addText(o=>{o.setPlaceholder(s.frontmatterKey).setValue(n.frontmatterKey).onChange(a)});let i="https://actions.work/actions-for-obsidian?ref=plugin-actions-uri";e.createEl("div",{attr:{style:`
          border-radius: 0.5rem;
          border: 1px dashed var(--text-muted);
          color: var(--text-muted);
          display: grid;
          font-size: 85%;
          grid-gap: 1rem;
          grid-template-columns: auto 1fr;
          margin-top: 4rem;
          opacity: 0.75;
          padding: 1rem;
        `}}).innerHTML=`
        <a href="${i}">
          <img
            src="https://actions.work/img/afo-icon.png"
            style="margin: -0.4rem -0.5rem -0.5rem 0; width: 5rem;"
            alt="Actions for Obsidian icon, a cog wheel on a glossy black background">
        </a>
        <span>
          Actions URI is brought to you by
          <a href="${i}"><strong>Actions for Obsidian</strong></a>,
          a macOS/iOS app made by the same developer as this plugin. AFO is the
          missing link between Obsidian and macOS&nbsp;/&nbsp;iOS: 50+ Shortcuts
          actions to bring your notes and your automations together.
          <a href="${i}">Take a look!</a>
        </span>
      `}};var os=require("obsidian");function Vu(t,e){let r={};if(Array.isArray(e))for(let n of e){let s=Object.getOwnPropertyDescriptor(t,n);s?.enumerable&&Object.defineProperty(r,n,s)}else for(let n of Reflect.ownKeys(t)){let s=Object.getOwnPropertyDescriptor(t,n);if(s.enumerable){let a=t[n];e(n,a,t)&&Object.defineProperty(r,n,s)}}return r}function $u(t,e){if(Array.isArray(e)){let r=new Set(e);return Vu(t,n=>!r.has(n))}return Vu(t,(r,n,s)=>!e(r,n,s))}function fn(t,e,r){let n=new URL(t);if(e.isSuccess)Uu(e.result,n);else{let{errorCode:i,errorMessage:o}=e;n.searchParams.set("errorCode",i.toString()),n.searchParams.set("errorMessage",o)}r["x-source"]&&/actions for obsidian/i.test(r["x-source"])&&n.searchParams.set("pv",ss.pluginVersion);let s=r["debug-mode"]?$u(r,["debug-mode","x-success","x-error","_computed"]):{};Uu(s,n,"input");let a=n.toString().replace(/\+/g,"%20");return gp(a),y(a)}function Uu(t,e,r=Ra){let n=Object.keys(t).sort();for(let s of n){if(!Object.prototype.hasOwnProperty.call(t,s))continue;let a;typeof t[s]=="string"?a=t[s]:t[s]instanceof os.TAbstractFile?a=t[s].path:typeof t[s]<"u"&&(a=JSON.stringify(t[s])),a!==void 0&&e.searchParams.set(Ya(`${r}-${s}`),a)}}function gp(t){/^https?:\/\//.test(t)?(0,os.requestUrl)(t):window.open(t)}var us=class extends Rr.Plugin{settings;defaultSettings={frontmatterKey:"uid"};async onload(){z(this),await this.loadSettings(),this.registerRoutes(zu),this.addSettingTab(new is(this.app,this))}async loadSettings(){this.settings={...this.defaultSettings,...await this.loadData()}}async saveSettings(){await this.saveData(this.settings)}registerRoutes(e){let r=[];for(let[n,s]of Object.entries(e))for(let a of s){let{path:i,schema:o,handler:l}=a,c=(0,Rr.normalizePath)(`${Aa}/${n}/${i}`).replace(/\/$/,"");this.registerObsidianProtocolHandler(c,async p=>{let x=await o.safeParseAsync(p);x.success?await this.handleIncomingCall(l,x.data):this.handleParseError(x.error,p)}),r.push(c)}ys("Registered URI handlers:",r)}async handleIncomingCall(e,r){let n;try{n=await e.bind(this)(r)}catch(a){let i=`Handler error: ${a.message}`;n=O(500,i),r["hide-ui-notice-on-error"]||qt(i),Ur(i)}let s={params:this.prepParamsForConsole(r),handlerResult:n,sendCallbackResult:this.sendUrlCallbackIfNeeded(n,r),openResult:await this.openFileIfNeeded(n,r)};return ys("Call handled:",s),s}prepParamsForConsole(e){let r={...e};return Object.keys(e).forEach(n=>{let s=e[n];r[n]=s instanceof Rr.TAbstractFile?s.path:s}),r}handleParseError(e,r){let n=["Incoming call failed",e.errors.map(i=>{let o=i.message.replace(/^.+(Expected )/g,"$1");return i.path.length>0?`- ${i.path.join(".")}: ${o}`:`- ${o}`})].flat().join(`
`);if(Ur(n),r["hide-ui-notice-on-error"]||qt(n),!r["x-error"])return;let s=e.errors.find(i=>i.message===S.note_not_found);if(s){fn(r["x-error"],O(404,`[Not found] ${s.path.join(", ")}`),r);return}let a="[Bad request] "+e.errors.map(i=>i.path.length>0?`${i.path.join(", ")}: ${i.message}`:i.message).join("; ");fn(r["x-error"],O(500,a),r)}sendUrlCallbackIfNeeded(e,r){return e.isSuccess?r["x-success"]?fn(r["x-success"],e,r):y("No `x-error` callback URL provided"):r["x-error"]?fn(r["x-error"],e,r):y("No `x-error` callback URL provided")}async openFileIfNeeded(e,r){if(!e.isSuccess)return y("No file to open, the handler failed");if(r.silent)return y("No file to open, the `silent` parameter was set");let{processedFilepath:n}=e;return n?await ce(n):y("No file to open, handler didn't return a `processedFilepath` property")}};

/* nosourcemap */